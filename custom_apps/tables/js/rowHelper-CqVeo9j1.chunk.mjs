/*! third party licenses: js/vendor.LICENSE.txt */
import{R as c}from"./RowFormWrapper-CzNjoOJe.chunk.mjs";import{n as r,j as A}from"./_plugin-vue2_normalizer-oRdohoZe.chunk.mjs";import{g as x,E as O,f as F,h as $,i as L,m as w,w as z,j as P,k as B,l as I,L as D,P as Y,b as U}from"./NcTable-BKzW_OCJ.chunk.mjs";import{m as W,j as M,d as j,e as v,i as Z,t as V}from"./useFormatDateTime-AjHnUuIE.chunk.mjs";import{v as E,a as H,i as h,f as y,l as G,at as q}from"./NcNoteCard-DG3F-LUj.chunk.mjs";import{c as R}from"./index-BmkWHhSR.chunk.mjs";import"./index-56SXuvlv-Ca_OzF4R.chunk.mjs";import{d as J,A as K}from"./constants-C1shV9FP.chunk.mjs";import{s as C,b as Q}from"./_plugin-vue2_normalizer-jrlE7CJU-B-cIoeGj.chunk.mjs";import{m,C as S}from"./data-BYdwMvxA.chunk.mjs";/* empty css                     */const _=W(),N={data(){return{SHARE_TYPES:{SHARE_TYPE_USER:OC.Share.SHARE_TYPE_USER,SHARE_TYPE_GROUP:OC.Share.SHARE_TYPE_GROUP,SHARE_TYPE_LINK:OC.Share.SHARE_TYPE_LINK,SHARE_TYPE_EMAIL:OC.Share.SHARE_TYPE_EMAIL,SHARE_TYPE_REMOTE:OC.Share.SHARE_TYPE_REMOTE,SHARE_TYPE_CIRCLE:OC.Share.SHARE_TYPE_CIRCLE,SHARE_TYPE_GUEST:OC.Share.SHARE_TYPE_GUEST,SHARE_TYPE_REMOTE_GROUP:OC.Share.SHARE_TYPE_REMOTE_GROUP,SHARE_TYPE_ROOM:OC.Share.SHARE_TYPE_ROOM}}},computed:{isCirclesEnabled(){return _&&_.tables&&_.tables.isCirclesEnabled}}},X={mixins:[N,x],data(){return{query:"",loading:!1,minSearchStringLength:1,maxAutocompleteResults:20,suggestions:[],recommendations:[],currentUserId:H().uid}},computed:{isValidQuery(){return this.query?.trim()&&this.query.length>=this.minSearchStringLength},options(){return this.isValidQuery?this.suggestions:this.recommendations},noResultText(){return this.loading?t("tables","Searching …"):t("tables","No elements found.")}},methods:{getShareTypes(){return[...this.selectUsers?[this.SHARE_TYPES.SHARE_TYPE_USER]:[],...this.selectGroups?[this.SHARE_TYPES.SHARE_TYPE_GROUP]:[],...this.selectCircles&&this.isCirclesEnabled?[this.SHARE_TYPES.SHARE_TYPE_CIRCLE]:[]]},getShareTypeString(){const e=this.getShareTypes(),i={[this.SHARE_TYPES.SHARE_TYPE_USER]:"User",[this.SHARE_TYPES.SHARE_TYPE_GROUP]:"Group",[this.SHARE_TYPES.SHARE_TYPE_CIRCLE]:"Team"},l=e.map(a=>i[a]);return l.length>0?l.join(" or "):"User, group or team"},getPlaceholder(){return t("tables","{shareTypeString}...",{shareTypeString:this.getShareTypeString()})},async asyncFind(e){this.query=e.trim(),this.isValidQuery&&(this.loading=!0,await this.debounceGetSuggestions(e))},getType(e){if(e.startsWith("users"))return 0;if(e.startsWith("circles"))return 2;if(e.startsWith("groups"))return 1;throw C(t("tables","Unsupported source: {source}",{source:e})),new Error("Unsupported source: "+e)},async getSuggestions(e){this.loading=!0;const i=this.getShareTypes();let l="";i.forEach(n=>{l+=`&shareTypes[]=${n}`});const a=E(`core/autocomplete/get?search=${e}${l}&limit=${this.maxAutocompleteResults}`);try{const n=(await R.get(a)).data.ocs.data.map(d=>this.formatResult(d)),o=H();i.includes(this.SHARE_TYPES.SHARE_TYPE_USER)&&!n.find(d=>d.id===o.uid)&&n.push({id:o.uid,type:this.SHARE_TYPES.SHARE_TYPE_USER,displayName:o.displayName,key:"users-"+o.uid}),this.suggestions=this.filterOutUnwantedItems(n),this.loading=!1}catch(n){console.debug(n),C(t("tables","Failed to fetch {shareTypeString}",{shareTypeString:this.getShareTypeString().toLowerCase()}))}},debounceGetSuggestions:M(function(...e){this.getSuggestions(...e)},300)}},tt={name:"OpenInNewIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var et=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon open-in-new-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},it=[],lt=r(tt,et,it,!1,null,null);const at=lt.exports,rt={methods:{async copyToClipboard(e,i=!0){try{if(navigator?.clipboard)await navigator.clipboard.writeText(e);else throw new Error("Clipboard is not available");return i||Q(t("tables","Copied to clipboard.")),!0}catch(l){console.error("Error copying to clipboard",l),i||C(t("tables","Clipboard is not available"))}}}},nt={name:"ContentCopyIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var ot=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon content-copy-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},st=[],ut=r(nt,ot,st,!1,null,null);const ct=ut.exports,dt={components:{RowFormWrapper:c},props:{column:{type:Object,default:null},value:{type:String,default:null}},data(){return{}},computed:{localValue:{get(){if(this.value===null){const e=this.column?.textDefault?this.column.textDefault:"";return this.$emit("update:value",e),e}return this.value},set(e){this.$emit("update:value",e)}},length(){return this.localValue?this.localValue.length:0}}};var pt=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{title:e.column.title,mandatory:e.column.mandatory,length:e.length,"max-length":e.column.textMaxLength,description:e.column.description}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue,expression:"localValue"}],attrs:{maxlength:e.column.textMaxLength},domProps:{value:e.localValue},on:{input:function(l){l.target.composing||(e.localValue=l.target.value)}}})])},mt=[],ht=r(dt,pt,mt,!1,null,"58a2d2f0");const ft=ht.exports,gt=O.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(i=>i!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const i=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const l=i.textBetween(0,i.content.size,void 0," ");return this.options.textCounter(l)}return i.nodeSize},this.storage.words=e=>{const i=e?.node||this.editor.state.doc,l=i.textBetween(0,i.content.size," "," ");return this.options.wordCounter(l)}},addProseMirrorPlugins(){let e=!1;return[new F({key:new $("characterCount"),appendTransaction:(i,l,a)=>{if(e)return;const n=this.options.limit;if(n==null||n===0){e=!0;return}const o=this.storage.characters({node:a.doc});if(o>n){const d=o-n,s=0,f=d;console.warn(`[CharacterCount] Initial content exceeded limit of ${n} characters. Content was automatically trimmed.`);const g=a.tr.deleteRange(s,f);return e=!0,g}e=!0},filterTransaction:(i,l)=>{const a=this.options.limit;if(!i.docChanged||a===0||a===null||a===void 0)return!0;const n=this.storage.characters({node:l.doc}),o=this.storage.characters({node:i.doc});if(o<=a||n>a&&o>a&&o<=n)return!0;if(n>a&&o>a&&o>n||!i.getMeta("paste"))return!1;const d=i.selection.$head.pos,s=o-a,f=d-s,g=d;return i.deleteRange(f,g),!(this.storage.characters({node:i.doc})>a)}})]}}),vt=L.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",w(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),yt=/^\s*(\[([( |x])?\])\s$/,bt=L.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const i=e.getAttribute("data-checked");return i===""||i==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:i}){return["li",w(this.options.HTMLAttributes,i,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:i,getPos:l,editor:a})=>{const n=document.createElement("li"),o=document.createElement("label"),d=document.createElement("span"),s=document.createElement("input"),f=document.createElement("div"),g=()=>{var u,p;s.ariaLabel=((p=(u=this.options.a11y)===null||u===void 0?void 0:u.checkboxLabel)===null||p===void 0?void 0:p.call(u,e,s.checked))||`Task item checkbox for ${e.textContent||"empty task item"}`};return g(),o.contentEditable="false",s.type="checkbox",s.addEventListener("mousedown",u=>u.preventDefault()),s.addEventListener("change",u=>{if(!a.isEditable&&!this.options.onReadOnlyChecked){s.checked=!s.checked;return}const{checked:p}=u.target;a.isEditable&&typeof l=="function"&&a.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:k})=>{const b=l();if(typeof b!="number")return!1;const T=k.doc.nodeAt(b);return k.setNodeMarkup(b,void 0,{...T?.attrs,checked:p}),!0}).run(),!a.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,p)||(s.checked=!s.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,p])=>{n.setAttribute(u,p)}),n.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,o.append(s,d),n.append(o,f),Object.entries(i).forEach(([u,p])=>{n.setAttribute(u,p)}),{dom:n,contentDOM:f,update:u=>u.type!==this.type?!1:(n.dataset.checked=u.attrs.checked,s.checked=u.attrs.checked,g(),!0)}}},addInputRules(){return[z({find:yt,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),_t={name:"UndoIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Ct=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon undo-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},Vt=[],kt=r(_t,Ct,Vt,!1,null,null);const Ht=kt.exports,St={name:"RedoIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var xt=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon redo-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},Lt=[],wt=r(St,xt,Lt,!1,null,null);const Mt=wt.exports,Et={name:"FormatBoldIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Rt=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon format-bold-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},Nt=[],Tt=r(Et,Rt,Nt,!1,null,null);const At=Tt.exports,Ot={name:"FormatItalicIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Ft=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon format-italic-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},$t=[],zt=r(Ot,Ft,$t,!1,null,null);const Pt=zt.exports,Bt={name:"FormatStrikethroughIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var It=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon format-strikethrough-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M3,14H21V12H3M5,4V7H10V10H14V7H19V4M10,19H14V16H10V19Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},Dt=[],Yt=r(Bt,It,Dt,!1,null,null);const Ut=Yt.exports,Wt={name:"FormatListBulletedSquareIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var jt=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon format-list-bulleted-square-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M3,4H7V8H3V4M9,5V7H21V5H9M3,10H7V14H3V10M9,11V13H21V11H9M3,16H7V20H3V16M9,17V19H21V17H9"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},Zt=[],Gt=r(Wt,jt,Zt,!1,null,null);const qt=Gt.exports,Jt={name:"FormatListNumberedIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Kt=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon format-list-numbered-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},Qt=[],Xt=r(Jt,Kt,Qt,!1,null,null);const te=Xt.exports,ee={name:"FormatHeader1Icon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var ie=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon format-header1-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M14,18V16H16V6.31L13.5,7.75V5.44L16,4H18V16H20V18H14Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},le=[],ae=r(ee,ie,le,!1,null,null);const re=ae.exports,ne={name:"FormatHeader2Icon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var oe=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon format-header2-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M21,18H15A2,2 0 0,1 13,16C13,15.47 13.2,15 13.54,14.64L18.41,9.41C18.78,9.05 19,8.55 19,8A2,2 0 0,0 17,6A2,2 0 0,0 15,8H13A4,4 0 0,1 17,4A4,4 0 0,1 21,8C21,9.1 20.55,10.1 19.83,10.83L15,16H21V18Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},se=[],ue=r(ne,oe,se,!1,null,null);const ce=ue.exports,de={name:"FormatHeader3Icon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var pe=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon format-header3-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H19A2,2 0 0,1 21,6V16A2,2 0 0,1 19,18H15A2,2 0 0,1 13,16V15H15V16H19V12H15V10H19V6H15V7H13V6A2,2 0 0,1 15,4Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},me=[],he=r(de,pe,me,!1,null,null);const fe=he.exports,ge={name:"CodeTagsIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var ve=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon code-tags-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},ye=[],be=r(ge,ve,ye,!1,null,null);const _e=be.exports,Ce={name:"CheckboxMultipleMarkedOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Ve=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon checkbox-multiple-marked-outline-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M20,16V10H22V16A2,2 0 0,1 20,18H8C6.89,18 6,17.1 6,16V4C6,2.89 6.89,2 8,2H16V4H8V16H20M10.91,7.08L14,10.17L20.59,3.58L22,5L14,13L9.5,8.5L10.91,7.08M16,20V22H4A2,2 0 0,1 2,20V7H4V20H16Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},ke=[],He=r(Ce,Ve,ke,!1,null,null);const Se=He.exports,xe={components:{EditorContent:P,NcButton:y,Undo:Ht,Redo:Mt,FormatBold:At,FormatItalic:Pt,FormatStrikethrough:Ut,FormatListBulletedSquare:qt,FormatListNumbered:te,FormatHeader1:re,FormatHeader2:ce,FormatHeader3:fe,CodeTags:_e,CheckboxMultipleMarkedOutline:Se},props:{value:{type:String,default:""},textLengthLimit:{type:Number,default:null}},data(){return{editor:null}},watch:{value(e){this.editor.getHTML()!==e&&this.editor.commands.setContent(e,!1)}},mounted(){this.editor=new B({extensions:[I,vt,bt.configure({nested:!0}),gt.configure({limit:this.textLengthLimit})],onUpdate:()=>{this.$emit("input",this.editor.getHTML())},content:this.value,editorProps:{attributes:{spellcheck:"false"}}})},beforeUnmount(){this.editor.destroy()},methods:{t:h}};var Le=function(){var e=this,i=e._self._c;return i("div",{staticClass:"tiptap-wrapper"},[e.editor?i("div",{staticClass:"menuBar"},[i("NcButton",{attrs:{type:"tertiary-no-background","aria-label":e.t("tables","Undo")},on:{click:function(l){e.editor.chain().focus().undo().run()}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("Undo",{attrs:{size:20}})]},proxy:!0}],null,!1,33666776)}),i("NcButton",{attrs:{type:"tertiary-no-background","aria-label":e.t("tables","Redo")},on:{click:function(l){e.editor.chain().focus().redo().run()}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("Redo",{attrs:{size:20}})]},proxy:!0}],null,!1,476807092)}),i("NcButton",{class:{"is-active":e.editor.isActive("bold")},attrs:{type:"tertiary-no-background","aria-label":e.t("tables","Bold")},on:{click:function(l){e.editor.chain().focus().toggleBold().run()}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("FormatBold",{attrs:{size:20}})]},proxy:!0}],null,!1,2239091438)}),i("NcButton",{class:{"is-active":e.editor.isActive("italic")},attrs:{type:"tertiary-no-background","aria-label":e.t("tables","Italic")},on:{click:function(l){e.editor.chain().focus().toggleItalic().run()}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("FormatItalic",{attrs:{size:20}})]},proxy:!0}],null,!1,3327708721)}),i("NcButton",{class:{"is-active":e.editor.isActive("bulletList")},attrs:{type:"tertiary-no-background","aria-label":e.t("tables","Bullet list")},on:{click:function(l){e.editor.chain().focus().toggleBulletList().run()}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("FormatListBulletedSquare",{attrs:{size:20}})]},proxy:!0}],null,!1,3339616175)}),i("NcButton",{class:{"is-active":e.editor.isActive("orderedList")},attrs:{type:"tertiary-no-background","aria-label":e.t("tables","Ordered list")},on:{click:function(l){e.editor.chain().focus().toggleOrderedList().run()}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("FormatListNumbered",{attrs:{size:20}})]},proxy:!0}],null,!1,2159565163)}),i("NcButton",{class:{"is-active":e.editor.isActive("strike")},attrs:{type:"tertiary-no-background","aria-label":e.t("tables","Strike")},on:{click:function(l){e.editor.chain().focus().toggleStrike().run()}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("FormatStrikethrough",{attrs:{size:20}})]},proxy:!0}],null,!1,4095863234)}),i("NcButton",{class:{"is-active":e.editor.isActive("heading",{level:1})},attrs:{type:"tertiary-no-background","aria-label":e.t("tables","Heading 1")},on:{click:function(l){e.editor.chain().focus().toggleHeading({level:1}).run()}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("FormatHeader1",{attrs:{size:20}})]},proxy:!0}],null,!1,2199896805)}),i("NcButton",{class:{"is-active":e.editor.isActive("heading",{level:2})},attrs:{type:"tertiary-no-background","aria-label":e.t("tables","Heading 2")},on:{click:function(l){e.editor.chain().focus().toggleHeading({level:2}).run()}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("FormatHeader2",{attrs:{size:20}})]},proxy:!0}],null,!1,1625843814)}),i("NcButton",{class:{"is-active":e.editor.isActive("heading",{level:3})},attrs:{type:"tertiary-no-background","aria-label":e.t("tables","Heading 3")},on:{click:function(l){e.editor.chain().focus().toggleHeading({level:3}).run()}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("FormatHeader3",{attrs:{size:20}})]},proxy:!0}],null,!1,919587943)}),i("NcButton",{class:{"is-active":e.editor.isActive("code")},attrs:{type:"tertiary-no-background","aria-label":e.t("tables","Code")},on:{click:function(l){e.editor.chain().focus().toggleCode().run()}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("CodeTags",{attrs:{size:20}})]},proxy:!0}],null,!1,3988605572)}),i("NcButton",{class:{"is-active":e.editor.isActive("taskList")},attrs:{type:"tertiary-no-background","aria-label":e.t("tables","Task list")},on:{click:function(l){e.editor.chain().focus().toggleTaskList().run()}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("CheckboxMultipleMarkedOutline",{attrs:{size:20}})]},proxy:!0}],null,!1,3284614047)})],1):e._e(),i("EditorContent",{attrs:{editor:e.editor}}),e.editor&&e.textLengthLimit?i("div",{staticClass:"character-count p span end"},[e._v(" "+e._s(e.editor.storage.characterCount.characters())+"/"+e._s(e.textLengthLimit)+" ")]):e._e()],1)},we=[],Me=r(xe,Le,we,!1,null,null);const Ee=Me.exports,Re={components:{TiptapMenuBar:Ee,RowFormWrapper:c},props:{column:{type:Object,default:null},value:{type:String,default:null}},computed:{localValue:{get(){return this.value!==null?this.value:this.column.textDefault!==void 0?this.column.textDefault:""},set(e){this.$emit("update:value",e)}},getTextLimit(){return this.column.textMaxLength===-1?null:this.column.textMaxLength}},methods:{updateText(e){this.localValue=e}}};var Ne=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{title:e.column.title,mandatory:e.column.mandatory,description:e.column.description}},[i("TiptapMenuBar",{attrs:{value:e.localValue,"text-length-limit":e.getTextLimit},on:{"update:value":function(l){e.localValue=l},input:e.updateText}})],1)},Te=[],Ae=r(Re,Ne,Te,!1,null,null);const Oe=Ae.exports,Fe={name:"ClipboardCheckMultipleOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var $e=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon clipboard-check-multiple-outline-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M4 7V21H18V23H4C2.9 23 2 22.1 2 21V7H4M12.8 15.35L9.5 12.05L10.9 10.65L12.8 12.55L17.1 8.25L18.5 9.65L12.8 15.35M20 3C21.1 3 22 3.9 22 5V17C22 18.1 21.1 19 20 19H8C6.9 19 6 18.1 6 17V5C6 3.9 6.9 3 8 3H11.18C11.6 1.84 12.7 1 14 1C15.3 1 16.4 1.84 16.82 3H20M14 3C13.45 3 13 3.45 13 4C13 4.55 13.45 5 14 5C14.55 5 15 4.55 15 4C15 3.45 14.55 3 14 3M10 7V5H8V17H20V5H18V7H10Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},ze=[],Pe=r(Fe,$e,ze,!1,null,null);const Be=Pe.exports,Ie={components:{ContentCopy:ct,ClipboardCheckMultipleOutline:Be,OpenInNew:at,NcButton:y,NcNoteCard:G,NcSelect:v,NcReferenceList:A,NcTextField:j,RowFormWrapper:c,LinkWidget:D},mixins:[x,rt],props:{column:{type:Object,default:null},value:{type:String,default:null}},data(){return{providers:null,results:[],term:"",providerLoading:{},copied:!1}},computed:{plainLink:{get(){return this.localValue?.value??""},set(e){this.$emit("update:value",JSON.stringify({title:e,subline:h("tables","URL"),providerId:"url",value:e}))}},localValue:{get(){return this.value&&!this.hasJsonStructure(this.value)?{title:this.value,subline:h("tables","URL"),providerId:"url",value:this.value}:this.value?JSON.parse(this.value):null},set(e){let i=null;e!==null&&e!==""&&(i=JSON.stringify(e)),this.$emit("update:value",i)}},isPlainUrl(){return this.providers?.length===1&&this.providers[0]==="url"},isLoadingResults(){for(const[e,i]of Object.entries(this.providerLoading))if(console.debug("is still loading results at least for: "+e,i),i)return!0;return!1}},watch:{term(){this.debounceSubmit()}},beforeMount(){this.localValue===null&&(this.localValue=this.column.textDefault),this.debounceSubmit=M(function(){this.loadResults()},500)},mounted(){this.column?.textAllowedPattern?this.providers=this.column?.textAllowedPattern?.split(","):this.providers=[]},methods:{t:h,setProviderLoading(e,i){this.providerLoading[e]=!!i,this.providerLoading={...this.providerLoading}},loadResults(){(this.term.length>=3||this.term==="")&&this.providers?.forEach(e=>this.loadResultsForProvider(e,this.term))},async loadResultsForProvider(e,i){if(i===null||i===""){this.results=[],this.providerLoading={};return}if(this.setProviderLoading(e,!0),this.removeResultsByProviderId(e),e==="url"){this.isValidUrl(i)&&this.addUrlResult(i),this.setProviderLoading(e,!1);return}let l=null;try{l=await R.get(E("/search/providers/"+e+"/search?term="+i))}catch(a){J(a,h("tables","Could not load link provider results."));return}for(const a of l.data.ocs.data.entries)a.thumbnailUrl&&!await this.isUrlReachable(a.thumbnailUrl)&&delete a.thumbnailUrl,a.icon&&!await this.isUrlReachable(a.icon)&&delete a.icon,a.providerId=e,a.subline=l.data?.ocs?.data?.name,a.value=a.resourceUrl;this.results=this.results.concat(l.data?.ocs?.data?.entries),this.setProviderLoading(e,!1)},isValidUrl(e){try{return new URL(e)}catch{return!1}},addUrlResult(e){this.results.push({title:e,subline:h("tables","Url"),providerId:"url",value:e})},removeResultsByProviderId(e){this.results=this.results.filter(i=>i.providerId!==e)},copyLink(){this.localValue&&(this.copied!==!1&&clearTimeout(this.copied),this.copied=this.copyToClipboard(this.localValue.value)?setTimeout(()=>{this.copied=!1},3e3):!1)},openLink(){this.localValue&&window.open(this.localValue.value,"_blank")}}};var De=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{title:e.column.title,mandatory:e.column.mandatory,description:e.column.description,loading:e.isLoadingResults}},[i("div",{staticClass:"row"},[e.providers?.length===0?i("div",{staticClass:"col-4"},[i("NcNoteCard",{attrs:{type:"info"}},[e._v(" "+e._s(e.t("tables","You can not insert any links in this field. Please configure at least one link provider in the column configuration."))+" ")])],1):e._e(),i("div",{staticClass:"link-input"},[e.isPlainUrl?i("NcTextField",{attrs:{value:e.plainLink,placeholder:e.t("tables","URL")},on:{"update:value":function(l){e.plainLink=l}}}):i("NcSelect",{staticStyle:{width:"100%"},attrs:{options:e.results,clearable:!0,label:"title","aria-label-combobox":e.t("tables","Link providers")},on:{search:l=>e.term=l},scopedSlots:e._u([{key:"option",fn:function(l){return[i("LinkWidget",{attrs:{"thumbnail-url":l.thumbnailUrl,"icon-url":l.icon,title:l.title,subline:l.subline,"icon-size":40}})]}},{key:"selected-option",fn:function(l){return[i("LinkWidget",{attrs:{"thumbnail-url":l.thumbnailUrl,"icon-url":l.icon,title:l.title,"icon-size":24}})]}}]),model:{value:e.localValue,callback:function(l){e.localValue=l},expression:"localValue"}}),i("NcButton",{attrs:{type:"tertiary",disabled:!e.localValue,title:e.t("tables","Copy link")},on:{click:e.copyLink},scopedSlots:e._u([{key:"icon",fn:function(){return[e.copied?i("ClipboardCheckMultipleOutline",{attrs:{size:20}}):i("ContentCopy",{attrs:{size:20}})]},proxy:!0}])}),i("NcButton",{attrs:{type:"tertiary",disabled:!e.localValue,title:e.t("tables","Open link")},on:{click:e.openLink},scopedSlots:e._u([{key:"icon",fn:function(){return[i("OpenInNew",{attrs:{size:20}})]},proxy:!0}])})],1),i("NcReferenceList",{attrs:{text:e.localValue?.value,limit:1,interactive:!1}})],1)])},Ye=[],Ue=r(Ie,De,Ye,!1,null,"56c8a309");const We=Ue.exports,je={components:{RowFormWrapper:c},props:{column:{type:Object,default:null},value:{type:Number,default:null}},computed:{getStep(){return this.column?.numberDecimals===0?"1":this.column?.numberDecimals>0?"."+"0".repeat(this.column.numberDecimals-1)+"1":"any"},localValue:{get(){return this.value!==null?this.value:this.column.numberDefault!==void 0?(this.$emit("update:value",this.column.numberDefault),this.column.numberDefault):null},set(e){this.$emit("update:value",this.parseValue(e))}}},watch:{localValue(){const e=this.parseValue(this.localValue);this.localValue=e,this.$emit("update:value",e)},value(){this.localValue=this.value}},mounted(){this.localValue=this.value},methods:{parseValue(e){if(e===null||e==="")return null;let i;typeof e=="string"||e instanceof String?i=parseFloat(e.replace(",",".")):i=e;const l=i.toFixed(this.column?.numberDecimals);let a=parseFloat(l);return this.column?.numberMin!==null&&this.column?.numberMin!==void 0&&a<this.column?.numberMin&&(a=this.column.numberMin),this.column?.numberMax!==null&&this.column?.numberMax!==void 0&&a>this.column?.numberMax&&(a=this.column.numberMax),a}}};var Ze=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{width:2,title:e.column.title,mandatory:e.column.mandatory,description:e.column.description}},[e.column.numberPrefix?i("div",{staticClass:"prefix"},[e._v(" "+e._s(e.column.numberPrefix)+" ")]):e._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue,expression:"localValue"}],attrs:{type:"number",min:e.column.numberMin,max:e.column.numberMax,step:e.getStep},domProps:{value:e.localValue},on:{input:function(l){l.target.composing||(e.localValue=l.target.value)}}}),e.column.numberSuffix?i("div",{staticClass:"suffix"},[e._v(" "+e._s(e.column.numberSuffix)+" ")]):e._e()])},Ge=[],qe=r(je,Ze,Ge,!1,null,"bf62f7f5");const Je=qe.exports,Ke={name:"MinusIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Qe=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon minus-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M19,13H5V11H19V13Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},Xe=[],ti=r(Ke,Qe,Xe,!1,null,null);const ei=ti.exports,ii={components:{RowFormWrapper:c,NcButton:y,Plus:Y,Minus:ei},props:{column:{type:Object,default:null},value:{type:Number,default:null}},data(){return{}},computed:{localValue:{get(){return this.value!==null?this.value:this.column.numberDefault!==void 0?(this.$emit("update:value",this.column.numberDefault),this.column.numberDefault):null},set(e){this.$emit("update:value",e)}},getStars(){return"★".repeat(this.localValue)+"☆".repeat(5-this.localValue)}},methods:{t:h,more(){this.localValue<5&&this.localValue++},less(){this.localValue>0&&this.localValue--}}};var li=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{title:e.column.title,mandatory:e.column.mandatory,description:e.column.description}},[i("div",{staticClass:"align-center"},[i("NcButton",{attrs:{type:"tertiary","aria-label":e.t("tables","Reduce stars")},on:{click:e.less},scopedSlots:e._u([{key:"icon",fn:function(){return[i("Minus",{attrs:{size:20}})]},proxy:!0}])}),i("div",{staticClass:"stars"},[e._v(" "+e._s(e.getStars)+" ")]),i("NcButton",{attrs:{type:"tertiary","aria-label":e.t("tables","Increase stars")},on:{click:e.more},scopedSlots:e._u([{key:"icon",fn:function(){return[i("Plus",{attrs:{size:20}})]},proxy:!0}])})],1)])},ai=[],ri=r(ii,li,ai,!1,null,"ab886496");const ni=ri.exports,oi={components:{RowFormWrapper:c},props:{column:{type:Object,default:null},value:{type:Number,default:null}},data(){return{}},computed:{localValue:{get(){return this.value!==null?this.value:this.column.numberDefault!==void 0?(this.$emit("update:value",this.column.numberDefault),this.column.numberDefault):null},set(e){const i=parseInt(e),l=Math.min(Math.max(0,e),100);this.$emit("update:value",isNaN(i)?null:parseInt(l))}}},methods:{enforceBounds(e){const i=parseInt(e.target.value);if(isNaN(i)){this.$emit("update:value",null),e.target.value=null;return}const l=Math.min(Math.max(0,i),100);this.$emit("update:value",l),e.target.value=l}}};var si=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{title:e.column.title,mandatory:e.column.mandatory,description:e.column.description,width:2}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue,expression:"localValue"}],attrs:{type:"number",min:"0",max:"100"},domProps:{value:e.localValue},on:{input:[function(l){l.target.composing||(e.localValue=l.target.value)},e.enforceBounds]}})])},ui=[],ci=r(oi,si,ui,!1,null,"f3fb2e11");const di=ci.exports,pi={components:{NcCheckboxRadioSwitch:Z,RowFormWrapper:c},props:{column:{type:Object,default:null},value:{type:String,default:""}},data(){return{}},computed:{localValue:{get(){if(this.value)return this.value==="true";{const e=this.column.selectionDefault==="true";return this.$emit("update:value",""+e),e}},set(e){this.$emit("update:value",""+e)}}}};var mi=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{title:e.column.title,mandatory:e.column.mandatory,description:e.column.description}},[i("NcCheckboxRadioSwitch",{attrs:{type:"switch",checked:e.localValue,"data-cy":"selectionCheckFormSwitch"},on:{"update:checked":function(l){e.localValue=l}}})],1)},hi=[],fi=r(pi,mi,hi,!1,null,"d2f19806");const gi=fi.exports,vi={name:"SelectionForm",components:{NcSelect:v,RowFormWrapper:c},props:{column:{type:Object,default:null},value:{type:Number,default:null}},computed:{localValue:{get(){return this.value!==null?this.getOptionObject(parseInt(this.value)):(this.$emit("update:value",this.getDefaultId),this.getDefaultOptionObject)},set(e){this.$emit("update:value",e?.id)}},getOptions(){return this.column?.selectionOptions||null},getDefaultId(){return isNaN(this.column.selectionDefault)?null:parseInt(this.column.selectionDefault)},getDefaultOptionObject(){return this.getOptionObject(this.getDefaultId)||null},getAllNonDeletedOptions(){return this.getOptions.filter(e=>!e.deleted)}},methods:{getOptionObject(e){return this.getOptions.find(i=>i.id===e)||null}}};var yi=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{title:e.column.title,mandatory:e.column.mandatory,description:e.column.description}},[i("NcSelect",{attrs:{options:e.getAllNonDeletedOptions,"aria-label-combobox":e.t("tables","Options")},model:{value:e.localValue,callback:function(l){e.localValue=l},expression:"localValue"}})],1)},bi=[],_i=r(vi,yi,bi,!1,null,"534d23d1");const Ci=_i.exports,Vi={name:"SelectionMultiForm",components:{NcSelect:v,RowFormWrapper:c},props:{column:{type:Object,default:null},value:{type:Array,default:null}},computed:{localValues:{get(){return this.value!==null?this.column.getObjects(this.value):(this.$emit("update:value",this.column.default()),this.column.getDefaultObjects())},set(e){this.$emit("update:value",this.getIdArrayFromObjects(e))}},getOptions(){return this.column.selectionOptions||null},getAllNonDeletedOrSelectedOptions(){const e=this.getOptions?.filter(i=>!i.deleted||this.optionIdIsSelected(i.id))||[];return e.forEach(i=>{i.deleted&&(i.label+=" ⚠️")}),e}},methods:{optionIdIsSelected(e){return this.values.includes(e)},getIdArrayFromObjects(e){const i=[];return e.forEach(l=>{i.push(l.id)}),i}}};var ki=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{title:e.column.title,mandatory:e.column.mandatory,description:e.column.description}},[i("NcSelect",{attrs:{"tag-width":80,options:e.getAllNonDeletedOrSelectedOptions,multiple:!0,"aria-label-combobox":e.t("tables","Options")},model:{value:e.localValues,callback:function(l){e.localValues=l},expression:"localValues"}})],1)},Hi=[],Si=r(Vi,ki,Hi,!1,null,"e70f9375");const xi=Si.exports,Li={components:{NcDateTimePickerNative:V,RowFormWrapper:c},props:{column:{type:Object,default:null},value:{type:String,default:null}},computed:{canBeCleared(){return!this.column.mandatory},localValue:{get(){if(this.value!==null&&this.value!=="none")return m(this.value,"YYYY-MM-DD HH:mm").toDate();if(this.value===null&&this.column.datetimeDefault==="now"){const e=m();return this.$emit("update:value",e.format("YYYY-MM-DD HH:mm")),e.toDate()}else return null},set(e){e==="none"?this.$emit("update:value",e):e&&this.$emit("update:value",m(e).format("YYYY-MM-DD HH:mm"))}}},methods:{emptyValue(){this.localValue="none"}}};var wi=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{title:e.column.title,mandatory:e.column.mandatory,description:e.column.description,width:2}},[i("NcDateTimePickerNative",{attrs:{id:"datetime-picker",type:"datetime-local"},model:{value:e.localValue,callback:function(l){e.localValue=l},expression:"localValue"}}),e.canBeCleared?i("div",{staticClass:"icon-close make-empty",on:{click:e.emptyValue}}):e._e()],1)},Mi=[],Ei=r(Li,wi,Mi,!1,null,"49761452");const Ri=Ei.exports,Ni={components:{NcDateTimePickerNative:V,RowFormWrapper:c},props:{column:{type:Object,default:null},value:{type:String,default:null}},data(){return{}},computed:{canBeCleared(){return!this.column.mandatory},localValue:{get(){if(this.value!==null&&this.value!=="none")return m(this.value,"YYYY-MM-DD").toDate();if(this.value===null&&this.column.datetimeDefault==="today"){const e=m();return this.$emit("update:value",e.format("YYYY-MM-DD")),e.toDate()}else return null},set(e){e==="none"?this.$emit("update:value",e):e&&this.$emit("update:value",m(e).format("YYYY-MM-DD"))}}},methods:{emptyValue(){this.localValue="none"}}};var Ti=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{title:e.column.title,mandatory:e.column.mandatory,description:e.column.description,width:2}},[i("NcDateTimePickerNative",{attrs:{id:"datetime-date-picker",type:"date"},model:{value:e.localValue,callback:function(l){e.localValue=l},expression:"localValue"}}),e.canBeCleared?i("div",{staticClass:"icon-close make-empty",on:{click:e.emptyValue}}):e._e()],1)},Ai=[],Oi=r(Ni,Ti,Ai,!1,null,"e78ceae2");const Fi=Oi.exports,$i={components:{NcDateTimePickerNative:V,RowFormWrapper:c},props:{column:{type:Object,default:null},value:{type:String,default:null}},data(){return{}},computed:{canBeCleared(){return!this.column.mandatory},localValue:{get(){if(this.value!==null&&this.value!=="none")return m(this.value,"HH:mm").toDate();if(this.value===null&&this.column.datetimeDefault==="now"){const e=m();return this.$emit("update:value",e.format("HH:mm")),e.toDate()}else return new Date},set(e){e==="none"?this.$emit("update:value",e):e&&this.$emit("update:value",m(e).format("HH:mm"))}}},methods:{emptyValue(){this.localValue="none"}}};var zi=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{title:e.column.title,mandatory:e.column.mandatory,description:e.column.description,width:2}},[i("NcDateTimePickerNative",{attrs:{id:"datetime-time-picker",label:e.t("tables","Please select a new time"),type:"time"},model:{value:e.localValue,callback:function(l){e.localValue=l},expression:"localValue"}}),e.canBeCleared?i("div",{staticClass:"icon-close make-empty",on:{click:e.emptyValue}}):e._e()],1)},Pi=[],Bi=r($i,zi,Pi,!1,null,"5881bcdf");const Ii=Bi.exports,Di={name:"FullscreenIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Yi=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon fullscreen-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(l){return e.$emit("click",l)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},Ui=[],Wi=r(Di,Yi,Ui,!1,null,null);const ji=Wi.exports,Zi={components:{Fullscreen:ji,RowFormWrapper:c,NcEditor:U,NcButton:y,NcModal:q},props:{column:{type:Object,default:null},value:{type:String,default:null}},data(){return{showBigEditorModal:!1}},computed:{localValue:{get(){if(this.value!==null)return this.value;const e=this.column?.textDefault?this.column.textDefault:"";return this.$emit("update:value",e),e},set(e){this.$emit("update:value",e)}}},methods:{t:h}};var Gi=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{title:e.column.title,mandatory:e.column.mandatory,description:e.column.description},scopedSlots:e._u([{key:"head",fn:function(){return[i("NcButton",{attrs:{"aria-label":e.t("tables","Show fullscreen"),type:"tertiary"},on:{click:function(l){e.showBigEditorModal=!0}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("Fullscreen",{attrs:{size:20}})]},proxy:!0}])}),e.showBigEditorModal?i("NcModal",{attrs:{"close-button-contained":!1,size:"full",title:e.column.title},on:{close:function(l){e.showBigEditorModal=!1}}},[i("div",{staticClass:"row"},[i("div",{staticClass:"fix-col-4"},[i("NcEditor",{attrs:{text:e.localValue,"show-border":!1},on:{"update:text":function(l){e.localValue=l}}})],1)]),i("div",{staticClass:"closeModalButton"},[i("NcButton",{attrs:{"aria-label":e.t("tables","Close editor")},on:{click:function(l){e.showBigEditorModal=!1}}},[e._v(" "+e._s(e.t("tables","Close editor"))+" ")])],1)]):e._e()]},proxy:!0}])},[i("div",{staticClass:"row"},[i("div",{staticClass:"fix-col-4"},[e.showBigEditorModal?e._e():i("NcEditor",{attrs:{text:e.localValue,height:"small"},on:{"update:text":function(l){e.localValue=l}}})],1)])])},qi=[],Ji=r(Zi,Gi,qi,!1,null,"656839a9");const Ki=Ji.exports,Qi={components:{RowFormWrapper:c,NcSelect:v},mixins:[N,X],props:{column:{type:Object,default:null},value:{type:Array,default:()=>[]}},data(){return{selectUsers:this.column.usergroupSelectUsers,selectGroups:this.column.usergroupSelectGroups}},computed:{localValue:{get(){return this.value},set(e){let i=null;Array.isArray(e)?i=e:i=[e],this.$emit("update:value",i)}}},created(){this.selectCircles=this.isCirclesEnabled?this.column.usergroupSelectTeams:!1},methods:{addItem(e){e?this.localValue=e:this.localValue=[]},filterOutUnwantedItems(e){return e},formatResult(e){return{id:e.id,type:this.getType(e.source),key:e.source+"-"+e.id,displayName:e.label}}}};var Xi=function(){var e=this,i=e._self._c;return i("RowFormWrapper",{attrs:{title:e.column.title,mandatory:e.column.mandatory,description:e.column.description,width:2}},[i("NcSelect",{staticStyle:{width:"100%"},attrs:{loading:e.loading,options:e.options,placeholder:e.getPlaceholder(),searchable:!0,"get-option-key":l=>l.key,label:"displayName","aria-label-combobox":e.getPlaceholder(),"user-select":!0,"close-on-select":!1,multiple:e.column.usergroupMultipleItems,"data-cy":"usergroupRowSelect"},on:{search:e.asyncFind,input:e.addItem},scopedSlots:e._u([{key:"noResult",fn:function(){return[e._v(" "+e._s(e.noResultText)+" ")]},proxy:!0}]),model:{value:e.localValue,callback:function(l){e.localValue=l},expression:"localValue"}})],1)},tl=[],el=r(Qi,Xi,tl,!1,null,null);const il=el.exports,ll={name:"ColumnFormComponent",components:{SelectionCheckForm:gi,SelectionForm:Ci,SelectionMultiForm:xi,TextLineForm:ft,TextLongForm:Oe,TextLinkForm:We,TextRichForm:Ki,NumberForm:Je,NumberStarsForm:ni,NumberProgressForm:di,DatetimeForm:Ri,DatetimeDateForm:Fi,DatetimeTimeForm:Ii,UsergroupForm:il},props:{column:{type:Object,default:null},value:{type:void 0,default:null}},data(){return{value_data:this.value}},computed:{getFormComponent(){const e=this.column.type,i=this.column.subtype??"",l=this.snakeToCamel(e)+this.snakeToCamel(i)+"Form";if(this.$options.components&&this.$options.components[l])return l;throw Error("Form "+l+" does not exist")}},watch:{value_data(){this.$emit("update:value",this.value_data)},value(){this.value_data=this.value}},methods:{snakeToCamel(e){return e=e.toLowerCase().replace(/([-_][a-z])/g,i=>i.toUpperCase().replace("_","").replace("-","")),e.charAt(0).toUpperCase()+e.slice(1)}}};var al=function(){var e=this,i=e._self._c;return i(e.getFormComponent,{tag:"component",attrs:{column:e.column,value:e.value_data},on:{"update:value":function(l){e.value_data=l}}})},rl=[],nl=r(ll,al,rl,!1,null,null);const yl=nl.exports,bl={methods:{isValueValidForColumn(e,i){const l=i?.type?.split("-")[0]+"Default";if(i.type===S.Selection)return e instanceof Array&&e.length>0||e===parseInt(e)?!0:l in i&&!["","null"].includes(i[l]);let a=l in i&&!["",null].includes(i[l]);return i.type===S.SelectionMulti?(a=l in i&&i[l]!=="[]",e instanceof Array&&e.length>0||a):!!e||e===0||a},checkMandatoryFields(e){let i=!1;return this.columns.forEach(l=>{if(l.mandatory){const a=this.isValueValidForColumn(e[l.id],l);i=i||!a}}),i},isValidUrlProtocol(e){if(!e)return!0;e=JSON.parse(e);try{const i=new URL(e?.value);return K.includes(i.protocol)}catch{return!1}}}};export{ct as C,ei as M,at as O,N as S,Ht as U,yl as a,rt as c,bl as r,X as s};
//# sourceMappingURL=rowHelper-CqVeo9j1.chunk.mjs.map
