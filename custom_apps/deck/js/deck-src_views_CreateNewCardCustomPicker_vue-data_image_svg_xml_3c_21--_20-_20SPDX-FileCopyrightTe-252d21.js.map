{"version":3,"file":"deck-src_views_CreateNewCardCustomPicker_vue-data_image_svg_xml_3c_21--_20-_20SPDX-FileCopyrightTe-252d21.js?v=a2b1cd4f54c2d2c6629c","mappings":"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","sources":["webpack:///deck/src/components/AttachmentDragAndDrop.vue","webpack:///deck/src/components/card/AssignmentSelector.vue","webpack:///deck/src/components/card/AttachmentList.vue","webpack:///deck/src/components/card/CardDetailEntry.vue","webpack:///deck/src/components/card/Description.vue","webpack:///deck/src/components/card/DueDateSelector.vue","webpack:///deck/src/components/card/TagSelector.vue","webpack:///deck/src/components/icons/DeckIcon.vue","webpack:///deck/src/views/CreateNewCardCustomPicker.vue","webpack://deck/./src/components/AttachmentDragAndDrop.vue?ef96","webpack://deck/./src/components/card/AssignmentSelector.vue?fe67","webpack://deck/./src/components/card/AttachmentList.vue?9fa6","webpack://deck/./src/components/card/CardDetailEntry.vue?fd7f","webpack://deck/./src/components/card/Description.vue?e3d5","webpack://deck/./src/components/card/DueDateSelector.vue?d632","webpack://deck/./src/components/card/TagSelector.vue?2a26","webpack://deck/./src/components/icons/DeckIcon.vue?b00e","webpack://deck/./src/views/CreateNewCardCustomPicker.vue?0d45","webpack:///deck/src/helpers/errors.js","webpack:///deck/src/mixins/attachmentUpload.js","webpack:///deck/src/mixins/color.js","webpack:///deck/src/mixins/readableDate.js","webpack:///deck/src/mixins/relativeDate.js","webpack:///deck/src/services/BoardApi.js","webpack:///deck/src/services/CardApi.js","webpack:///deck/src/components/AttachmentDragAndDrop.vue?vue&type=style&index=0&id=0d4a7a97&prod&scoped=true&lang=scss","webpack:///deck/src/components/card/AssignmentSelector.vue?vue&type=style&index=0&id=685e6890&prod&lang=scss&scoped=true","webpack:///deck/src/components/card/AttachmentList.vue?vue&type=style&index=0&id=d2296a80&prod&lang=scss&scoped=true","webpack:///deck/src/components/card/CardDetailEntry.vue?vue&type=style&index=0&id=ff963b7e&prod&lang=scss","webpack:///deck/src/components/card/Description.vue?vue&type=style&index=0&id=70a91332&prod&lang=scss&scoped=true","webpack:///deck/src/components/card/DueDateSelector.vue?vue&type=style&index=0&id=493713fc&prod&scoped=true&lang=scss","webpack:///deck/src/components/card/TagSelector.vue?vue&type=style&index=0&id=61060951&prod&lang=scss&scoped=true","webpack:///deck/src/views/CreateNewCardCustomPicker.vue?vue&type=style&index=0&id=46d71c0e&prod&lang=scss&scoped=true","webpack:///deck/src/components/card/Description.vue?vue&type=style&index=1&id=70a91332&prod&lang=css","webpack://deck/./src/components/AttachmentDragAndDrop.vue?5d59","webpack://deck/./src/components/card/AssignmentSelector.vue?61da","webpack://deck/./src/components/card/AttachmentList.vue?0cd0","webpack://deck/./src/components/card/CardDetailEntry.vue?84f1","webpack://deck/./src/components/card/Description.vue?9ebf","webpack://deck/./src/components/card/DueDateSelector.vue?ad94","webpack://deck/./src/components/card/TagSelector.vue?dd35","webpack://deck/./src/views/CreateNewCardCustomPicker.vue?4101","webpack://deck/./src/components/card/Description.vue?a055","webpack://deck/./src/components/AttachmentDragAndDrop.vue?5973","webpack://deck/./src/components/card/AssignmentSelector.vue?20f8","webpack://deck/./src/components/card/AttachmentList.vue?cd0f","webpack://deck/./src/components/card/CardDetailEntry.vue?8cc4","webpack://deck/./src/components/card/Description.vue?7702","webpack://deck/./src/components/card/DueDateSelector.vue?16fa","webpack://deck/./src/components/card/TagSelector.vue?8b99","webpack://deck/./src/components/icons/DeckIcon.vue?5191","webpack://deck/./src/views/CreateNewCardCustomPicker.vue?45cb","webpack:///deck/src/components/AttachmentDragAndDrop.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/AssignmentSelector.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/AttachmentList.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/CardDetailEntry.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/Description.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/DueDateSelector.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/TagSelector.vue?vue&type=script&lang=js","webpack:///deck/src/components/icons/DeckIcon.vue?vue&type=script&lang=js","webpack:///deck/src/views/CreateNewCardCustomPicker.vue?vue&type=script&lang=js"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"attachments-drag-zone\"\n\t\t@dragover.prevent=\"!isDraggingOver && (isDraggingOver = true)\"\n\t\t@dragleave.prevent=\"isDraggingOver && (isDraggingOver = false)\"\n\t\t@drop.prevent=\"handleDropFiles\">\n\t\t<slot />\n\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t<div v-show=\"isDraggingOver\"\n\t\t\t\tclass=\"dragover\">\n\t\t\t\t<div class=\"drop-hint\">\n\t\t\t\t\t<div class=\"drop-hint__icon\"\n\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t'icon-upload' : !isReadOnly,\n\t\t\t\t\t\t\t'icon-error' : isReadOnly}\" />\n\t\t\t\t\t<h2 class=\"drop-hint__text\">\n\t\t\t\t\t\t{{ dropHintText }}\n\t\t\t\t\t</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\n\t\t<NcModal v-if=\"modalShow\" :name=\"t('deck', 'File already exists')\" @close=\"modalShow=false\">\n\t\t\t<div class=\"modal__content\">\n\t\t\t\t<h2>{{ t('deck', 'File already exists') }}</h2>\n\t\t\t\t<p>\n\t\t\t\t\t{{ t('deck', 'A file with the name {filename} already exists.', {filename: file.name}) }}\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t{{ t('deck', 'Do you want to overwrite it?') }}\n\t\t\t\t</p>\n\t\t\t\t<button class=\"primary\" @click=\"overrideAttachment\">\n\t\t\t\t\t{{ t('deck', 'Overwrite file') }}\n\t\t\t\t</button>\n\t\t\t\t<button @click=\"modalShow=false\">\n\t\t\t\t\t{{ t('deck', 'Keep existing file') }}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</NcModal>\n\t</div>\n</template>\n\n<script>\nimport { NcModal } from '@nextcloud/vue'\nimport attachmentUpload from '../mixins/attachmentUpload.js'\nimport { loadState } from '@nextcloud/initial-state'\n\nconst maxUploadSizeState = loadState('deck', 'maxUploadSize', -1)\n\nexport default {\n\tname: 'AttachmentDragAndDrop',\n\tcomponents: { NcModal },\n\tmixins: [attachmentUpload],\n\tprops: {\n\t\tcardId: {\n\t\t\ttype: Number,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmodalShow: false,\n\t\t\tfile: '',\n\t\t\toverwriteAttachment: null,\n\t\t\tisDraggingOver: false,\n\t\t\tmaxUploadSize: maxUploadSizeState,\n\t\t}\n\t},\n\tcomputed: {\n\t\tisReadOnly() {\n\t\t\treturn !this.$store.getters.canEdit\n\t\t},\n\t\tdropHintText() {\n\t\t\tif (this.isReadOnly) {\n\t\t\t\treturn t('deck', 'This board is read only')\n\t\t\t} else {\n\t\t\t\treturn t('deck', 'Drop your files to upload')\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\thandleDropFiles(event) {\n\t\t\tevent.dataTransfer.dropEffect = 'copy'\n\t\t\tthis.isDraggingOver = false\n\t\t\tif (this.isReadOnly) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst files = event.dataTransfer.files\n\t\t\tfor (const file of files) {\n\t\t\t\tthis.onLocalAttachmentSelected(file, 'file')\n\t\t\t}\n\t\t\tevent.dataTransfer.value = ''\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n\t.attachments-drag-zone {\n\t\tflex-grow: 1;\n\t\tposition: relative;\n\t}\n\n\t.attachments-drag-zone.drop-upload--sidebar {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tflex-basis: 100%;\n\t}\n\n\t.dragover {\n\t\tposition: absolute;\n\t\tbackground: var(--color-primary-element-light);\n\t\tz-index: 11;\n\t\tdisplay: flex;\n\t\tborder-radius: var(--border-radius);\n\t\topacity: .9;\n\t\tmargin: auto;\n\n\t\t.drop-hint {\n\t\t\twidth: 100%;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tjustify-content: center;\n\n\t\t\t&__icon {\n\t\t\t\tbackground-size: 32px;\n\t\t\t\tbackground-position: center center;\n\t\t\t\theight: 48px;\n\t\t\t\tmargin-bottom: 16px;\n\t\t\t}\n\n\t\t\t&__text {\n\t\t\t\tline-height: 125%;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t}\n\t}\n\n\t.drop-upload--sidebar .dragover {\n\t\ttop: 20%;\n\t\tleft: 10%;\n\t\twidth: 80%;\n\t\theight: 60%;\n\t\tbox-shadow: 0px 0px 36px var(--color-box-shadow);\n\t}\n\n\t.drop-upload--card .dragover {\n\t\tborder: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttop: 0;\n\t\tleft: 0;\n\n\t\th2 {\n\t\t\tfont-size: 13px;\n\t\t\tmargin: 0;\n\t\t}\n\n\t\t.drop-hint__icon {\n\t\t\tmargin: 0;\n\t\t\tbackground-size: 16px;\n\t\t\theight: 16px;\n\t\t}\n\t}\n\n\t.fade {\n\t\t&-enter {\n\t\t\topacity: 0;\n\t\t}\n\t\t&-enter-to {\n\t\t\topacity: .9;\n\t\t}\n\t\t&-leave {\n\t\t\topacity: .9;\n\t\t}\n\t\t&-leave-to {\n\t\t\topacity: 0;\n\t\t}\n\t\t&-enter-active,\n\t\t&-leave-active {\n\t\t\ttransition: opacity 150ms ease-in-out;\n\t\t}\n\t}\n\n\t.modal__content {\n\t\twidth: 25vw;\n\t\tmin-width: 250px;\n\t\theight: 120px;\n\t\ttext-align: center;\n\t\tmargin: 20px 20px 60px 20px;\n\t}\n\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"selector-wrapper\" :aria-label=\"t('deck', 'Assign to users/groups/team')\" data-test=\"assignment-selector\">\n\t\t<div class=\"selector-wrapper--icon\">\n\t\t\t<AccountMultiple :size=\"20\" />\n\t\t</div>\n\t\t<NcSelect v-if=\"canEdit\"\n\t\t\tv-model=\"assignedUsers\"\n\t\t\tclass=\"selector-wrapper--selector\"\n\t\t\t:disabled=\"assignables.length === 0\"\n\t\t\t:multiple=\"true\"\n\t\t\t:options=\"formatedAssignables\"\n\t\t\t:user-select=\"true\"\n\t\t\t:aria-label-combobox=\"t('deck', 'Assign a user to this card…')\"\n\t\t\t:placeholder=\"t('deck', 'Select a user to assign to this card…')\"\n\t\t\tlabel=\"displayname\"\n\t\t\ttrack-by=\"multiselectKey\"\n\t\t\t@option:selected=\"onSelect\"\n\t\t\t@option:deselected=\"onRemove\">\n\t\t\t<template #tag=\"scope\">\n\t\t\t\t<div class=\"avatarlist--inline\">\n\t\t\t\t\t<NcAvatar :user=\"scope.option.uid\"\n\t\t\t\t\t\t:display-name=\"scope.option.displayname\"\n\t\t\t\t\t\t:size=\"24\"\n\t\t\t\t\t\t:is-no-user=\"scope.option.isNoUser\"\n\t\t\t\t\t\t:disable-menu=\"true\" />\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</NcSelect>\n\t\t<div v-else class=\"avatar-list--readonly\">\n\t\t\t<NcAvatar v-for=\"option in assignedUsers\"\n\t\t\t\t:key=\"option.primaryKey\"\n\t\t\t\t:user=\"option.uid\"\n\t\t\t\t:display-name=\"option.displayname\"\n\t\t\t\t:is-no-user=\"option.isNoUser\"\n\t\t\t\t:size=\"32\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport { NcAvatar, NcSelect } from '@nextcloud/vue'\nimport AccountMultiple from 'vue-material-design-icons/AccountMultiple.vue'\n\nexport default defineComponent({\n\tname: 'AssignmentSelector',\n\tcomponents: {\n\t\tAccountMultiple,\n\t\tNcSelect,\n\t\tNcAvatar,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\tcanEdit: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tassignables: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tassignedUsers: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\tformatedAssignables() {\n\t\t\treturn this.assignables.map(item => {\n\t\t\t\tconst assignable = {\n\t\t\t\t\t...item,\n\t\t\t\t\tuser: item.primaryKey,\n\t\t\t\t\tdisplayName: item.displayname,\n\t\t\t\t\ticon: 'icon-user',\n\t\t\t\t\tisNoUser: false,\n\t\t\t\t\tmultiselectKey: item.type + ':' + item.uid,\n\t\t\t\t}\n\n\t\t\t\tif (item.type === 1) {\n\t\t\t\t\tassignable.icon = 'icon-group'\n\t\t\t\t\tassignable.isNoUser = true\n\t\t\t\t}\n\t\t\t\tif (item.type === 7) {\n\t\t\t\t\tassignable.icon = 'icon-circles'\n\t\t\t\t\tassignable.isNoUser = true\n\t\t\t\t}\n\n\t\t\t\treturn assignable\n\t\t\t})\n\t\t},\n\t},\n\twatch: {\n\t\tcard() {\n\t\t\tthis.initialize()\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.initialize()\n\t},\n\tmethods: {\n\t\tasync initialize() {\n\t\t\tif (!this.card) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (this.card.assignedUsers && this.card.assignedUsers.length > 0) {\n\t\t\t\tthis.assignedUsers = this.card.assignedUsers.map((item) => ({\n\t\t\t\t\t...item.participant,\n\t\t\t\t\tisNoUser: item.participant.type !== 0,\n\t\t\t\t\tmultiselectKey: item.participant.type + ':' + item.participant.primaryKey,\n\t\t\t\t}))\n\t\t\t} else {\n\t\t\t\tthis.assignedUsers = []\n\t\t\t}\n\t\t},\n\t\tonSelect(options) {\n\t\t\tconst addition = options.filter((item) => !this.card.assignedUsers.find((user) => user.participant.primaryKey === item.primaryKey))\n\t\t\tthis.$emit('select', addition[0])\n\t\t},\n\t\tonRemove(removed) {\n\t\t\tthis.$emit('remove', removed)\n\t\t},\n\t},\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../css/selector';\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AttachmentDragAndDrop :card-id=\"cardId\" class=\"drop-upload--sidebar\">\n\t\t<div v-if=\"!isReadOnly\" class=\"button-group\">\n\t\t\t<NcButton class=\"icon-upload\" @click=\"uploadNewFile()\">\n\t\t\t\t{{ t('deck', 'Upload new files') }}\n\t\t\t</NcButton>\n\t\t\t<NcButton class=\"icon-folder\" @click=\"shareFromFiles()\">\n\t\t\t\t{{ t('deck', 'Share from Files') }}\n\t\t\t</NcButton>\n\t\t</div>\n\t\t<input ref=\"filesAttachment\"\n\t\t\ttype=\"file\"\n\t\t\tstyle=\"display: none;\"\n\t\t\tmultiple\n\t\t\t@change=\"handleUploadFile\">\n\t\t<ul class=\"attachment-list\">\n\t\t\t<li v-for=\"attachment in uploadQueue\" :key=\"attachment.name\" class=\"attachment\">\n\t\t\t\t<a class=\"fileicon\" :style=\"mimetypeForAttachment()\" />\n\t\t\t\t<div class=\"details\">\n\t\t\t\t\t<a>\n\t\t\t\t\t\t<div class=\"filename\">\n\t\t\t\t\t\t\t<span>{{ attachmentBasename(attachment) }}</span>\n\t\t\t\t\t\t\t<span class=\"extension\">.{{ attachmentExtension(attachment) }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<progress :value=\"attachment.progress\" max=\"100\" />\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li v-for=\"attachment in attachments\"\n\t\t\t\t:key=\"attachment.id\"\n\t\t\t\tclass=\"attachment\"\n\t\t\t\t:class=\"{ 'attachment--deleted': attachment.deletedAt > 0 }\">\n\t\t\t\t<a class=\"fileicon\"\n\t\t\t\t\t:href=\"internalLink(attachment)\"\n\t\t\t\t\t:style=\"mimetypeForAttachment(attachment)\"\n\t\t\t\t\t@click.prevent=\"showViewer(attachment)\" />\n\t\t\t\t<div class=\"details\">\n\t\t\t\t\t<a :href=\"internalLink(attachment)\" @click.prevent=\"showViewer(attachment)\">\n\t\t\t\t\t\t<div class=\"filename\">\n\t\t\t\t\t\t\t<span>{{ attachmentBasename(attachment) }}</span>\n\t\t\t\t\t\t\t<span class=\"extension\">.{{ attachmentExtension(attachment) }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-if=\"attachment.deletedAt === 0\">\n\t\t\t\t\t\t\t<span class=\"filesize\">{{ formattedFileSize(attachment.extendedData.filesize) }}</span>\n\t\t\t\t\t\t\t<span class=\"filedate\">{{ relativeDate(attachment.createdAt*1000) }}</span>\n\t\t\t\t\t\t\t<span class=\"filedate\">{{ attachment.extendedData.attachmentCreator.displayName }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t<span class=\"attachment--info\">{{ t('deck', 'Pending share') }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<NcActions v-if=\"selectable\">\n\t\t\t\t\t<NcActionButton icon=\"icon-confirm\" @click=\"$emit('select-attachment', attachment)\">\n\t\t\t\t\t\t{{ t('deck', 'Add this attachment') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t</NcActions>\n\t\t\t\t<NcActions v-if=\"removable && !isReadOnly\" :force-menu=\"true\">\n\t\t\t\t\t<NcActionLink v-if=\"attachment.extendedData.fileid\" icon=\"icon-folder\" :href=\"internalLink(attachment)\">\n\t\t\t\t\t\t{{ t('deck', 'Show in Files') }}\n\t\t\t\t\t</NcActionLink>\n\t\t\t\t\t<NcActionLink v-if=\"attachment.extendedData.fileid\"\n\t\t\t\t\t\ticon=\"icon-download\"\n\t\t\t\t\t\t:href=\"downloadLink(attachment)\"\n\t\t\t\t\t\tdownload>\n\t\t\t\t\t\t{{ t('deck', 'Download') }}\n\t\t\t\t\t</NcActionLink>\n\t\t\t\t\t<NcActionButton v-if=\"attachment.extendedData.fileid && !isReadOnly\" icon=\"icon-delete\" @click=\"unshareAttachment(attachment)\">\n\t\t\t\t\t\t{{ t('deck', 'Remove attachment') }}\n\t\t\t\t\t</NcActionButton>\n\n\t\t\t\t\t<NcActionButton v-if=\"!attachment.extendedData.fileid && attachment.deletedAt === 0\" icon=\"icon-delete\" @click=\"$emit('delete-attachment', attachment)\">\n\t\t\t\t\t\t{{ t('deck', 'Delete Attachment') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t<NcActionButton v-else-if=\"!attachment.extendedData.fileid\" icon=\"icon-history\" @click=\"$emit('restore-attachment', attachment)\">\n\t\t\t\t\t\t{{ t('deck', 'Restore Attachment') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t</NcActions>\n\t\t\t</li>\n\t\t</ul>\n\t</AttachmentDragAndDrop>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { NcActions, NcActionButton, NcActionLink, NcButton } from '@nextcloud/vue'\nimport AttachmentDragAndDrop from '../AttachmentDragAndDrop.vue'\nimport relativeDate from '../../mixins/relativeDate.js'\nimport { formatFileSize } from '@nextcloud/files'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { generateUrl, generateOcsUrl, generateRemoteUrl } from '@nextcloud/router'\nimport { mapState, mapActions } from 'vuex'\nimport { loadState } from '@nextcloud/initial-state'\nimport attachmentUpload from '../../mixins/attachmentUpload.js'\nimport { getFilePickerBuilder } from '@nextcloud/dialogs'\nconst maxUploadSizeState = loadState('deck', 'maxUploadSize', -1)\n\nconst picker = getFilePickerBuilder(t('deck', 'File to share'))\n\t.setMultiSelect(false)\n\t.setType(1)\n\t.allowDirectories()\n\t.build()\n\nexport default {\n\tname: 'AttachmentList',\n\tcomponents: {\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcActionLink,\n\t\tNcButton,\n\t\tAttachmentDragAndDrop,\n\t},\n\tmixins: [relativeDate, attachmentUpload],\n\n\tprops: {\n\t\tcardId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tselectable: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t},\n\t\tremovable: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmodalShow: false,\n\t\t\tfile: '',\n\t\t\toverwriteAttachment: null,\n\t\t\tisDraggingOver: false,\n\t\t\tmaxUploadSize: maxUploadSizeState,\n\t\t}\n\t},\n\tcomputed: {\n\t\tattachments() {\n\t\t\t// FIXME sort propertly by last modified / deleted at\n\t\t\treturn [...this.$store.getters.attachmentsByCard(this.cardId)].filter(attachment => attachment.deletedAt >= 0).sort((a, b) => b.id - a.id)\n\t\t},\n\t\tmimetypeForAttachment() {\n\t\t\treturn (attachment) => {\n\t\t\t\tif (!attachment) {\n\t\t\t\t\treturn {}\n\t\t\t\t}\n\t\t\t\tconst url = attachment.extendedData.hasPreview ? this.attachmentPreview(attachment) : OC.MimeType.getIconUrl(attachment.extendedData.mimetype)\n\t\t\t\tconst styles = {\n\t\t\t\t\t'background-image': `url(\"${url}\")`,\n\t\t\t\t}\n\t\t\t\treturn styles\n\t\t\t}\n\t\t},\n\t\tattachmentPreview() {\n\t\t\treturn (attachment) => (attachment.extendedData.fileid ? generateUrl(`/core/preview?fileId=${attachment.extendedData.fileid}&x=64&y=64`) : null)\n\t\t},\n\t\tattachmentUrl() {\n\t\t\treturn (attachment) => generateUrl(`/apps/deck/cards/${attachment.cardId}/attachment/${attachment.id}`)\n\t\t},\n\t\tinternalLink() {\n\t\t\treturn (attachment) => generateUrl('/f/' + attachment.extendedData.fileid)\n\t\t},\n\t\tdownloadLink() {\n\t\t\treturn (attachment) => generateRemoteUrl(`dav/files/${getCurrentUser().uid}/${attachment.extendedData.path}`)\n\t\t},\n\t\tformattedFileSize() {\n\t\t\treturn (filesize) => formatFileSize(filesize)\n\t\t},\n\t\t...mapState({\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t}),\n\t\tisReadOnly() {\n\t\t\treturn !this.$store.getters.canEdit\n\t\t},\n\t\tdropHintText() {\n\t\t\tif (this.isReadOnly) {\n\t\t\t\treturn t('deck', 'This board is read only')\n\t\t\t} else {\n\t\t\t\treturn t('deck', 'Drop your files to upload')\n\t\t\t}\n\t\t},\n\t\tattachmentBasename() {\n\t\t\treturn (attachment) => attachment?.extendedData?.info.filename\n\t\t\t\t?? (attachment?.name ?? attachment.data).replace(/\\.[^/.]+$/, '')\n\t\t},\n\t\tattachmentExtension() {\n\t\t\treturn (attachment) => attachment?.extendedData?.info?.extension\n\t\t\t\t?? (attachment?.name ?? attachment.data).split('.').pop()\n\t\t},\n\t},\n\twatch: {\n\t\tcardId: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tthis.fetchAttachments(this.cardId)\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'fetchAttachments',\n\t\t]),\n\t\thandleUploadFile(event) {\n\t\t\tconst files = event.target.files ?? []\n\t\t\tfor (const file of files) {\n\t\t\t\tthis.onLocalAttachmentSelected(file, 'file')\n\t\t\t}\n\t\t\tevent.target.value = ''\n\t\t},\n\t\tuploadNewFile() {\n\t\t\tthis.$refs.filesAttachment.click()\n\t\t},\n\t\tshareFromFiles() {\n\t\t\tpicker.pick()\n\t\t\t\t.then(async (path) => {\n\t\t\t\t\tconsole.debug(`path ${path} selected for sharing`)\n\t\t\t\t\tif (!path.startsWith('/')) {\n\t\t\t\t\t\tthrow new Error(t('files', 'Invalid path selected'))\n\t\t\t\t\t}\n\n\t\t\t\t\taxios.post(generateOcsUrl('apps/files_sharing/api/v1/shares'), {\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\tshareType: 12,\n\t\t\t\t\t\tshareWith: '' + this.cardId,\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\tthis.fetchAttachments(this.cardId)\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t},\n\t\tunshareAttachment(attachment) {\n\t\t\tthis.$store.dispatch('unshareAttachment', attachment)\n\t\t},\n\t\tclickAddNewAttachmment() {\n\t\t\tthis.$refs.localAttachments.click()\n\t\t},\n\t\tshowViewer(attachment) {\n\t\t\tif (attachment.extendedData.fileid && window.OCA.Viewer.availableHandlers.map(handler => handler.mimes).flat().includes(attachment.extendedData.mimetype)) {\n\t\t\t\twindow.OCA.Viewer.open({ path: attachment.extendedData.path })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (attachment.extendedData.fileid) {\n\t\t\t\twindow.location = generateUrl('/f/' + attachment.extendedData.fileid)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\twindow.location = generateUrl(`/apps/deck/cards/${attachment.cardId}/attachment/${attachment.id}`)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n\t.drop-upload--sidebar {\n\t\tmin-height: 100%;\n\t}\n\n\t.button-group {\n\t\tdisplay: flex;\n\t\tgap: calc(var(--default-grid-baseline) * 3);\n\n\t\t.icon-upload, .icon-folder {\n\t\t\tpadding-left: var(--default-clickable-area);\n\t\t\tbackground-position: 16px center;\n\t\t\tflex-grow: 1;\n\t\t\theight: var(--default-clickable-area);\n\t\t\tmargin-bottom: 12px;\n\t\t\ttext-align: left;\n\t\t}\n\t}\n\n\t.attachment-list {\n\t\t&.selector {\n\t\t\tpadding: 10px;\n\t\t\tposition: absolute;\n\t\t\twidth: 30%;\n\t\t\tmax-width: 500px;\n\t\t\tmin-width: 200px;\n\t\t\tmax-height: 50%;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\ttransform: translate(-50%, -50%);\n\t\t\tbackground-color: #eee;\n\t\t\tz-index: 2;\n\t\t\tborder-radius: 3px;\n\t\t\tbox-shadow: 0 0 3px darkgray;\n\t\t\toverflow: scroll;\n\t\t}\n\t\th3.attachment-selector {\n\t\t\tmargin: 0 0 10px;\n\t\t\tpadding: 0;\n\t\t\t.icon-close {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tfloat: right;\n\t\t\t}\n\t\t}\n\n\t\tli.attachment {\n\t\t\tdisplay: flex;\n\t\t\tpadding: 3px;\n\t\t\tmin-height: var(--default-clickable-area);\n\n\t\t\t&.deleted {\n\t\t\t\topacity: .5;\n\t\t\t}\n\n\t\t\t.fileicon {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tmin-width: 32px;\n\t\t\t\twidth: 32px;\n\t\t\t\theight: 32px;\n\t\t\t\tbackground-size: contain;\n\t\t\t}\n\t\t\t.details {\n\t\t\t\tflex-grow: 1;\n\t\t\t\tflex-shrink: 1;\n\t\t\t\tmin-width: 0;\n\t\t\t\tflex-basis: 50%;\n\t\t\t\tline-height: 110%;\n\t\t\t\tpadding: 2px;\n\t\t\t}\n\t\t\t.filename {\n\t\t\t\twidth: 70%;\n\t\t\t\tdisplay: flex;\n\t\t\t\t.basename {\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\tpadding-bottom: 2px;\n\t\t\t\t}\n\t\t\t\t.extension {\n\t\t\t\t\topacity: 0.7;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.attachment--info,\n\t\t\t.filesize, .filedate {\n\t\t\t\tfont-size: 90%;\n\t\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\t}\n\t\t\t.app-popover-menu-utils {\n\t\t\t\tposition: relative;\n\t\t\t\tright: -10px;\n\t\t\t\tbutton {\n\t\t\t\t\theight: 32px;\n\t\t\t\t\twidth: 42px;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbutton.icon-history {\n\t\t\t\twidth: var(--default-clickable-area);\n\t\t\t}\n\t\t\tprogress {\n\t\t\t\tmargin-top: 3px;\n\t\t\t}\n\t\t}\n\t}\n\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"selector-wrapper\" :aria-label=\"label\">\n\t\t<div class=\"selector-wrapper--icon\">\n\t\t\t<slot name=\"icon\" />\n\t\t</div>\n\t\t<div class=\"selector-wrapper--content\">\n\t\t\t<slot />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n\tname: 'CardDetailEntry',\n\tprops: {\n\t\tlabel: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n})\n</script>\n<style lang=\"scss\">\n@import '../../css/selector';\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div data-test=\"description\">\n\t\t<h5>\n\t\t\t{{ t('deck', 'Description') }}\n\t\t\t<span v-if=\"descriptionLastEdit && !descriptionSaving\">{{ t('deck', '(Unsaved)') }}</span>\n\t\t\t<span v-if=\"descriptionSaving\">{{ t('deck', '(Saving…)') }}</span>\n\t\t\t<a v-if=\"!textAppAvailable\"\n\t\t\t\t:title=\"t('deck', 'Formatting help')\"\n\t\t\t\thref=\"https://deck.readthedocs.io/en/latest/Markdown/\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\tclass=\"icon icon-info\" />\n\t\t\t<NcActions v-if=\"!textAppAvailable && canEdit\">\n\t\t\t\t<NcActionButton v-if=\"!descriptionEditing\" icon=\"icon-rename\" @click=\"showEditor()\">\n\t\t\t\t\t{{ t('deck', 'Edit description') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton v-else icon=\"icon-toggle\" @click=\"hideEditor()\">\n\t\t\t\t\t{{ t('deck', 'View description') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t\t<NcActions v-if=\"canEdit && !!card.id\">\n\t\t\t\t<NcActionButton v-if=\"descriptionEditing\" @click=\"showAttachmentModal()\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<PaperclipIcon :size=\"24\" decorative />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('deck', 'Add Attachment') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t</h5>\n\n\t\t<div v-if=\"textAppAvailable\" class=\"description__text\">\n\t\t\t<div ref=\"editor\" />\n\t\t</div>\n\t\t<template v-else>\n\t\t\t<div v-if=\"!descriptionEditing && hasDescription\"\n\t\t\t\tid=\"description-preview\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\t@click=\"clickedPreview\"\n\t\t\t\tv-html=\"renderedDescription\" />\n\t\t\t<p v-else-if=\"!descriptionEditing\" class=\"placeholder\" @click=\"showEditor()\">\n\t\t\t\t{{ t('deck', 'Write a description …') }}\n\t\t\t</p>\n\t\t\t<VueEasymde v-else\n\t\t\t\t:key=\"card.id\"\n\t\t\t\tref=\"markdownEditor\"\n\t\t\t\tv-model=\"description\"\n\t\t\t\t:configs=\"mdeConfig\"\n\t\t\t\t@initialized=\"addKeyListeners\"\n\t\t\t\t@update:modelValue=\"updateDescription\"\n\t\t\t\t@blur=\"saveDescription\" />\n\t\t</template>\n\n\t\t<NcModal v-if=\"modalShow && !!card.id\" :title=\"t('deck', 'Choose attachment')\" @close=\"modalShow=false\">\n\t\t\t<div class=\"modal__content\">\n\t\t\t\t<h3>{{ t('deck', 'Choose attachment') }}</h3>\n\t\t\t\t<AttachmentList :card-id=\"card.id\"\n\t\t\t\t\t:selectable=\"true\"\n\t\t\t\t\t@select-attachment=\"addAttachment\" />\n\t\t\t</div>\n\t\t</NcModal>\n\t</div>\n</template>\n\n<script>\nimport MarkdownIt from 'markdown-it'\nimport MarkdownItTaskCheckbox from 'markdown-it-task-checkbox'\nimport MarkdownItLinkAttributes from 'markdown-it-link-attributes'\nimport AttachmentList from './AttachmentList.vue'\nimport { NcActions, NcActionButton, NcModal } from '@nextcloud/vue'\nimport { formatFileSize } from '@nextcloud/files'\nimport { generateUrl } from '@nextcloud/router'\nimport { showWarning } from '@nextcloud/dialogs'\nimport PaperclipIcon from 'vue-material-design-icons/Paperclip.vue'\nimport { mapState } from 'vuex'\n\nconst markdownIt = new MarkdownIt({\n\tlinkify: true,\n})\nmarkdownIt.use(MarkdownItTaskCheckbox, { disabled: false, idPrefix: 'task-item-', ulClass: 'contains-task-list' })\n\nmarkdownIt.use(MarkdownItLinkAttributes, {\n\tattrs: {\n\t\ttarget: '_blank',\n\t\trel: 'noreferrer noopener',\n\t},\n})\n\nexport default {\n\tname: 'Description',\n\tcomponents: {\n\t\tVueEasymde: () => import('vue-easymde/dist/VueEasyMDE.common.js'),\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcModal,\n\t\tAttachmentList,\n\t\tPaperclipIcon,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\tcanEdit: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tshowAttachments: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttextAppAvailable: !!window.OCA?.Text?.createEditor,\n\t\t\teditor: null,\n\t\t\tkeyExitState: 0,\n\t\t\tdescription: '',\n\t\t\tmarkdownIt: null,\n\t\t\tdescriptionEditing: false,\n\t\t\tmdeConfig: {\n\t\t\t\tautoDownloadFontAwesome: false,\n\t\t\t\tspellChecker: false,\n\t\t\t\tautofocus: true,\n\t\t\t\tautosave: { enabled: false, uniqueId: 'unique' },\n\t\t\t\ttoolbar: false,\n\t\t\t\tplaceholder: t('deck', 'Write a description …'),\n\t\t\t\tpreviewImagesInEditor: false,\n\t\t\t},\n\t\t\tdescriptionSaveTimeout: null,\n\t\t\tdescriptionSaving: false,\n\t\t\tdescriptionLastEdit: 0,\n\t\t\tmodalShow: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\thasCardSaveError: (state) => state.hasCardSaveError,\n\t\t}),\n\t\tmimetypeForAttachment() {\n\t\t\treturn (mimetype) => {\n\t\t\t\tconst url = OC.MimeType.getIconUrl(mimetype)\n\t\t\t\tconst styles = {\n\t\t\t\t\t'background-image': `url(\"${url}\")`,\n\t\t\t\t}\n\t\t\t\treturn styles\n\t\t\t}\n\t\t},\n\t\tattachmentUrl() {\n\t\t\treturn (attachment) => {\n\t\t\t\tif (attachment.extendedData.fileid) {\n\t\t\t\t\treturn generateUrl('/f/' + attachment.extendedData.fileid)\n\t\t\t\t}\n\t\t\t\treturn generateUrl(`/apps/deck/cards/${attachment.cardId}/attachment/${attachment.id}`)\n\t\t\t}\n\t\t},\n\t\tattachmentPreview() {\n\t\t\treturn (attachment) => (attachment.extendedData.fileid\n\t\t\t\t? generateUrl(`/core/preview?fileId=${attachment.extendedData.fileid}&x=600&y=600&a=true`)\n\t\t\t\t: generateUrl(`/apps/deck/cards/${attachment.cardId}/attachment/${attachment.id}`))\n\t\t},\n\t\tformattedFileSize() {\n\t\t\treturn (filesize) => formatFileSize(filesize)\n\t\t},\n\t\trenderedDescription() {\n\t\t\treturn markdownIt.render(this.card.description || '')\n\t\t},\n\t\thasDescription() {\n\t\t\treturn this.card?.description?.trim?.() !== ''\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.setupEditor()\n\t},\n\tasync beforeDestroy() {\n\t\tawait this.destroyEditor()\n\t},\n\tmethods: {\n\t\tasync setupEditor() {\n\t\t\tawait this.destroyEditor()\n\t\t\tthis.descriptionLastEdit = 0\n\t\t\tthis.description = this.card.description\n\t\t\tthis.editor = await window.OCA.Text.createEditor({\n\t\t\t\tel: this.$refs.editor,\n\t\t\t\tcontent: this.card.description,\n\t\t\t\treadOnly: !this.canEdit,\n\t\t\t\tonLoaded: () => {\n\t\t\t\t\tthis.descriptionLastEdit = 0\n\t\t\t\t},\n\t\t\t\tonUpdate: ({ markdown }) => {\n\t\t\t\t\tif (this.description === markdown) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tthis.description = markdown\n\t\t\t\t\tthis.updateDescription()\n\t\t\t\t},\n\t\t\t\tonFileInsert: () => {\n\t\t\t\t\tthis.showAttachmentModal()\n\t\t\t\t},\n\t\t\t})\n\n\t\t},\n\t\tasync destroyEditor() {\n\t\t\tawait this.saveDescription()\n\t\t\tthis?.editor?.destroy()\n\t\t},\n\t\taddKeyListeners() {\n\t\t\tthis.$refs.markdownEditor.easymde.codemirror.on('keydown', (a, b) => {\n\t\t\t\tif (this.keyExitState === 0 && (b.key === 'Meta' || b.key === 'Alt')) {\n\t\t\t\t\tthis.keyExitState = 1\n\t\t\t\t}\n\t\t\t\tif (this.keyExitState === 1 && b.key === 'Enter') {\n\t\t\t\t\tthis.keyExitState = 0\n\t\t\t\t\tthis.$refs.markdownEditor.easymde.codemirror.off('keydown', undefined)\n\t\t\t\t\tthis.$refs.markdownEditor.easymde.codemirror.off('keyup', undefined)\n\t\t\t\t\tthis.hideEditor()\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.$refs.markdownEditor.easymde.codemirror.on('keyup', (a, b) => {\n\t\t\t\tif (b.key === 'Meta' || b.key === 'Control') {\n\t\t\t\t\tthis.keyExitState = 0\n\t\t\t\t}\n\n\t\t\t})\n\t\t},\n\t\tshowEditor() {\n\t\t\tif (!this.canEdit) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.descriptionEditing = true\n\t\t\tthis.description = this.card.description\n\n\t\t},\n\t\thideEditor() {\n\t\t\tthis.$refs.markdownEditor.easymde.codemirror.off('keydown', undefined)\n\t\t\tthis.$refs.markdownEditor.easymde.codemirror.off('keyup', undefined)\n\t\t\tthis.descriptionEditing = false\n\t\t},\n\t\tshowAttachmentModal() {\n\t\t\tthis.modalShow = true\n\t\t},\n\t\taddAttachment(attachment) {\n\t\t\tconst asImage = (attachment.type === 'file' && attachment.extendedData.hasPreview) || attachment.extendedData.mimetype.includes('image')\n\t\t\t// We need to strip those as text does not support rtl yet, so we cannot insert them separately\n\t\t\tconst stripRTLO = (text) => text.replaceAll('\\u202e', '')\n\t\t\tconst fileName = stripRTLO(attachment.extendedData.info.filename) + '.' + stripRTLO(attachment.extendedData.info.extension)\n\t\t\tif (this.editor) {\n\t\t\t\tthis.editor.insertAtCursor(\n\t\t\t\t\tasImage\n\t\t\t\t\t\t? `<a href=\"${this.attachmentPreview(attachment)}\"><img src=\"${this.attachmentPreview(attachment)}\" alt=\"${attachment.data}\" /></a>`\n\t\t\t\t\t\t: `<a href=\"${this.attachmentPreview(attachment)}\">${fileName}</a>`,\n\t\t\t\t)\n\t\t\t\treturn\n\t\t\t} else {\n\t\t\t\tconst attachmentString = (asImage ? '!' : '') + '[📎 ' + fileName + '](' + this.attachmentPreview(attachment) + ')'\n\t\t\t\tconst descString = this.$refs.markdownEditor.easymde.value()\n\t\t\t\tconst newContent = descString + '\\n' + attachmentString\n\t\t\t\tthis.$refs.markdownEditor.easymde.value(newContent)\n\t\t\t\tthis.description = newContent\n\t\t\t}\n\t\t\tthis.updateDescription()\n\t\t\tthis.modalShow = false\n\t\t},\n\t\tclickedPreview(e) {\n\t\t\tif (e.target.getAttribute('type') === 'checkbox') {\n\t\t\t\tconst clickedIndex = [...document.querySelector('#description-preview').querySelectorAll('input')].findIndex((li) => li.id === e.target.id)\n\t\t\t\tconst reg = /\\[(X|\\s|_|-)\\]/ig\n\t\t\t\tlet nth = 0\n\t\t\t\tconst updatedDescription = this.card.description.replace(reg, (match, i, original) => {\n\t\t\t\t\tlet result = match\n\t\t\t\t\tif ('' + nth++ === '' + clickedIndex) {\n\t\t\t\t\t\tif (match.match(/^\\[\\s\\]/i)) {\n\t\t\t\t\t\t\tresult = match.replace(/\\[\\s\\]/i, '[x]')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (match.match(/^\\[x\\]/i)) {\n\t\t\t\t\t\t\tresult = match.replace(/\\[x\\]/i, '[ ]')\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn result\n\t\t\t\t\t}\n\t\t\t\t\treturn match\n\t\t\t\t})\n\t\t\t\tthis.$emit('change', updatedDescription)\n\t\t\t}\n\t\t},\n\t\tasync saveDescription() {\n\t\t\tif (this.descriptionLastEdit === 0 || this.descriptionSaving) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.descriptionSaving = true\n\t\t\ttry {\n\t\t\t\tif (this.card.id !== undefined) {\n\t\t\t\t\tawait this.$store.dispatch('updateCardDesc', { ...this.card, description: this.description })\n\t\t\t\t}\n\t\t\t\tthis.$emit('change', this.description)\n\t\t\t\tthis.descriptionLastEdit = 0\n\t\t\t\tthis.$store.commit('setHasCardSaveError', false)\n\t\t\t} catch (e) {\n\t\t\t\tthis.$store.commit('setHasCardSaveError', true)\n\t\t\t\tshowWarning(t('deck', 'Could not save description'), { timeout: 2500 })\n\t\t\t\tconsole.error(e)\n\n\t\t\t\t// Retry of network error\n\t\t\t\tif (['ERR_NETWORK', 'ETIMEDOUT'].includes(e.code)) {\n\t\t\t\t\tthis.setSaveTimeout()\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tthis.descriptionSaving = false\n\t\t\t}\n\t\t},\n\t\tupdateDescription() {\n\t\t\tthis.descriptionLastEdit = Date.now()\n\t\t\tthis.setSaveTimeout()\n\t\t},\n\t\tsetSaveTimeout() {\n\t\t\tclearTimeout(this.descriptionSaveTimeout)\n\t\t\tthis.descriptionSaveTimeout = setTimeout(async () => {\n\t\t\t\tawait this.saveDescription()\n\t\t\t}, 2500)\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n\n.modal__content {\n\twidth: 25vw;\n\tmin-width: 250px;\n\tmin-height: 120px;\n\tmargin: 20px;\n\tpadding-bottom: 20px;\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t&:deep(.attachment-list) {\n\t\tflex-shrink: 1;\n\t}\n}\n\n.placeholder {\n\tcolor: var(--color-text-maxcontrast);\n\tpadding: 2px;\n}\n\n#description-preview {\n\tmin-height: 100px;\n\twidth: auto;\n\toverflow-x: auto;\n\n\t&:deep {\n\t\t/* stylelint-disable-next-line no-invalid-position-at-import-rule */\n\t\t@import './../../css/markdown';\n\t}\n\n\t&:deep(input) {\n\t\theight: auto;\n\t}\n\n\t&:deep(a) {\n\t\ttext-decoration: underline;\n\t}\n}\n\nh5 {\n\tborder-bottom: 1px solid var(--color-border);\n\tmargin-top: 20px;\n\tmargin-bottom: 5px;\n\tcolor: var(--color-text-maxcontrast);\n\n\t.icon-info {\n\t\tdisplay: inline-block;\n\t\twidth: 32px;\n\t\theight: 16px;\n\t\tfloat: right;\n\t\topacity: .7;\n\t}\n\n\t.icon-attach {\n\t\tbackground-size: 16px;\n\t\tfloat: right;\n\t\tmargin-top: -14px;\n\t\topacity: .7;\n\t}\n\n\t.icon-toggle, .icon-rename {\n\t\tfloat: right;\n\t\tmargin-top: -14px;\n\t}\n}\n\n.description__text :deep(.ProseMirror) {\n\tpadding-bottom: var(--default-clickable-area);\n}\n\n</style>\n<style>\n@import '~easymde/dist/easymde.min.css';\n\n.vue-easymde, .CodeMirror {\n\tborder: none;\n\tmargin: 0;\n\tpadding: 0;\n\tbackground-color: var(--color-main-background);\n\tcolor: var(--color-main-text);\n\twidth: 100%;\n}\n\n.CodeMirror-placeholder {\n\tcolor: var(--color-text-maxcontrast);\n}\n\n.CodeMirror-cursor {\n\tborder-left: 1px solid var(--color-main-text);\n}\n\n.CodeMirror-selected,\n.CodeMirror-line::selection, .CodeMirror-line>span::selection, .CodeMirror-line>span>span::selection {\n\tbackground: var(--color-primary-element) !important;\n\tcolor: var(--color-primary-element-text) !important;\n}\n\n.editor-preview,\n.editor-statusbar {\n\tdisplay: none;\n}\n\n#app-sidebar .app-sidebar-header__desc h4 {\n\tfont-size: 12px !important;\n}\n\n.vue-easymde .cm-s-easymde .cm-link {\n\tcolor: var(--color-main-text);\n}\n\n.vue-easymde .cm-s-easymde .cm-string.cm-url,\n.vue-easymde .cm-s-easymde .cm-formatting.cm-link,\n.vue-easymde .cm-s-easymde .cm-formatting.cm-url,\n.vue-easymde .cm-s-easymde .cm-formatting.cm-image {\n\tcolor: var(--color-text-maxcontrast);\n}\n\n.app-sidebar__tab .description__text .text-menubar {\n\ttop: -10px !important;\n\tz-index: 1;\n}\n\n.modal__card .description__text .text-menubar {\n\ttop: 0;\n}\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<CardDetailEntry :label=\"t('deck', 'Assign a due date to this card…')\" data-test=\"due-date-selector\">\n\t\t<Calendar v-if=\"!card.done\" slot=\"icon\" :size=\"20\" />\n\t\t<CalendarCheck v-else slot=\"icon\" :size=\"20\" />\n\t\t<template v-if=\"!card.done && !card.archived\">\n\t\t\t<NcDateTimePickerNative v-if=\"duedate\"\n\t\t\t\tid=\"card-duedate-picker\"\n\t\t\t\tv-model=\"duedate\"\n\t\t\t\t:placeholder=\"t('deck', 'Set a due date')\"\n\t\t\t\t:hide-label=\"true\"\n\t\t\t\ttype=\"datetime-local\" />\n\t\t\t<NcActions v-if=\"canEdit\"\n\t\t\t\t:menu-title=\"!duedate ? t('deck', 'Add due date') : null\"\n\t\t\t\ttype=\"tertiary\"\n\t\t\t\tdata-cy-due-date-actions>\n\t\t\t\t<template v-if=\"!duedate\" #icon>\n\t\t\t\t\t<Plus :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t<NcActionButton v-for=\"shortcut in reminderOptions\"\n\t\t\t\t\t:key=\"shortcut.key\"\n\t\t\t\t\tclose-after-click\n\t\t\t\t\t:data-cy-due-date-shortcut=\"shortcut.key\"\n\t\t\t\t\t@click=\"() => selectShortcut(shortcut)\">\n\t\t\t\t\t{{ shortcut.label }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionSeparator />\n\n\t\t\t\t<NcActionButton v-if=\"!duedate\"\n\t\t\t\t\tclose-after-click\n\t\t\t\t\tdata-cy-due-date-pick\n\t\t\t\t\t@click=\"initDate\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<Plus :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('deck', 'Choose a date') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton v-else\n\t\t\t\t\ticon=\"icon-delete\"\n\t\t\t\t\tclose-after-click\n\t\t\t\t\tdata-cy-due-date-remove\n\t\t\t\t\t@click=\"removeDue\">\n\t\t\t\t\t{{ t('deck', 'Remove due date') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\n\t\t\t<NcButton v-if=\"!card.done\"\n\t\t\t\ttype=\"secondary\"\n\t\t\t\tclass=\"completed-button\"\n\t\t\t\t@click=\"changeCardDoneStatus()\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<CheckIcon :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('deck', 'Mark as done') }}\n\t\t\t</NcButton>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<div class=\"done-info\">\n\t\t\t\t<span v-if=\"card.done\" class=\"done-info--done\">\n\t\t\t\t\t{{ formatReadableDate(card.done) }}\n\t\t\t\t</span>\n\t\t\t\t<span v-if=\"duedate\" class=\"done-info--duedate\" :class=\"{ 'dimmed': card.done }\">\n\t\t\t\t\t{{ t('deck', 'Due at:') }}\n\t\t\t\t\t{{ formatReadableDate(duedate) }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div class=\"due-actions\">\n\t\t\t\t<NcButton v-if=\"!card.archived\"\n\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t:name=\"t('deck', 'Not done')\"\n\t\t\t\t\t@click=\"changeCardDoneStatus()\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ClearIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcButton>\n\t\t\t\t<NcButton type=\"secondary\" @click=\"archiveUnarchiveCard()\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ArchiveIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ card.archived ? t('deck', 'Unarchive card') : t('deck', 'Archive card') }}\n\t\t\t\t</NcButton>\n\t\t\t</div>\n\t\t</template>\n\t</CardDetailEntry>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport {\n\tNcActionButton,\n\tNcActions,\n\tNcActionSeparator,\n\tNcButton,\n\tNcDateTimePickerNative,\n} from '@nextcloud/vue'\nimport readableDate from '../../mixins/readableDate.js'\nimport { getDayNamesMin, getFirstDay, getMonthNamesShort } from '@nextcloud/l10n'\nimport moment from '@nextcloud/moment'\nimport ArchiveIcon from 'vue-material-design-icons/Archive.vue'\nimport Plus from 'vue-material-design-icons/Plus.vue'\nimport Calendar from 'vue-material-design-icons/Calendar.vue'\nimport CalendarCheck from 'vue-material-design-icons/CalendarCheck.vue'\nimport CheckIcon from 'vue-material-design-icons/Check.vue'\nimport ClearIcon from 'vue-material-design-icons/Close.vue'\nimport CardDetailEntry from './CardDetailEntry.vue'\n\nexport default defineComponent({\n\tname: 'DueDateSelector',\n\tcomponents: {\n\t\tNcButton,\n\t\tArchiveIcon,\n\t\tClearIcon,\n\t\tCardDetailEntry,\n\t\tPlus,\n\t\tCalendar,\n\t\tCalendarCheck,\n\t\tCheckIcon,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcActionSeparator,\n\t\tNcDateTimePickerNative,\n\t},\n\tmixins: [\n\t\treadableDate,\n\t],\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\tcanEdit: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tlang: {\n\t\t\t\tdays: getDayNamesMin(),\n\t\t\t\tmonths: getMonthNamesShort(),\n\t\t\t\tformatLocale: {\n\t\t\t\t\tfirstDayOfWeek: getFirstDay() === 0 ? 7 : getFirstDay(),\n\t\t\t\t},\n\t\t\t\tplaceholder: {\n\t\t\t\t\tdate: t('deck', 'Select Date'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tformat: {\n\t\t\t\tstringify: this.stringify,\n\t\t\t\tparse: this.parse,\n\t\t\t},\n\t\t}\n\t},\n\tcomputed: {\n\t\tduedate: {\n\t\t\tget() {\n\t\t\t\treturn this.card?.duedate ? new Date(this.card.duedate) : null\n\t\t\t},\n\t\t\tset(val) {\n\t\t\t\tthis.$emit('input', val ? new Date(val) : null)\n\t\t\t},\n\t\t},\n\n\t\treminderOptions() {\n\t\t\tconst currentDateTime = moment()\n\t\t\t// Same day 18:00 PM (or hidden)\n\t\t\tconst laterTodayTime = (currentDateTime.hour() < 18)\n\t\t\t\t? moment().hour(18)\n\t\t\t\t: null\n\t\t\t// Tomorrow 08:00 AM\n\t\t\tconst tomorrowTime = moment().add(1, 'days').hour(8)\n\t\t\t// Saturday 08:00 AM (or hidden)\n\t\t\tconst thisWeekendTime = (currentDateTime.day() !== 6 && currentDateTime.day() !== 0)\n\t\t\t\t? moment().day(6).hour(8)\n\t\t\t\t: null\n\t\t\t// Next Monday 08:00 AM\n\t\t\tconst nextWeekTime = moment().add(1, 'weeks').day(1).hour(8)\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tkey: 'laterToday',\n\t\t\t\t\ttimestamp: this.getTimestamp(laterTodayTime),\n\t\t\t\t\tlabel: t('deck', 'Later today – {timeLocale}', { timeLocale: laterTodayTime?.format('LT') }),\n\t\t\t\t\tariaLabel: t('deck', 'Set due date for later today'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'tomorrow',\n\t\t\t\t\ttimestamp: this.getTimestamp(tomorrowTime),\n\t\t\t\t\tlabel: t('deck', 'Tomorrow – {timeLocale}', { timeLocale: tomorrowTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('deck', 'Set due date for tomorrow'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'thisWeekend',\n\t\t\t\t\ttimestamp: this.getTimestamp(thisWeekendTime),\n\t\t\t\t\tlabel: t('deck', 'This weekend – {timeLocale}', { timeLocale: thisWeekendTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('deck', 'Set due date for this weekend'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'nextWeek',\n\t\t\t\t\ttimestamp: this.getTimestamp(nextWeekTime),\n\t\t\t\t\tlabel: t('deck', 'Next week – {timeLocale}', { timeLocale: nextWeekTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('deck', 'Set due date for next week'),\n\t\t\t\t},\n\t\t\t].filter(option => option.timestamp !== null)\n\t\t},\n\t},\n\tmethods: {\n\t\tinitDate() {\n\t\t\tif (this.duedate === null) {\n\t\t\t\t// We initialize empty dates with a time once clicked to make picking a day easier\n\t\t\t\tconst now = new Date()\n\t\t\t\tnow.setDate(now.getDate() + 1)\n\t\t\t\tnow.setHours(8)\n\t\t\t\tnow.setMinutes(0)\n\t\t\t\tnow.setMilliseconds(0)\n\t\t\t\tthis.duedate = now\n\t\t\t}\n\t\t},\n\t\tremoveDue() {\n\t\t\tthis.duedate = null\n\t\t\tthis.$emit('change', null)\n\n\t\t},\n\t\tselectShortcut(shortcut) {\n\t\t\tthis.duedate = shortcut.timestamp\n\t\t\tthis.$emit('change', shortcut.timestamp)\n\t\t},\n\t\tgetTimestamp(momentObject) {\n\t\t\treturn momentObject?.minute(0).second(0).millisecond(0).toDate() || null\n\t\t},\n\t\tchangeCardDoneStatus() {\n\t\t\tthis.$store.dispatch('changeCardDoneStatus', { ...this.card, done: !this.card.done })\n\t\t},\n\t\tarchiveUnarchiveCard() {\n\t\t\tthis.$store.dispatch('archiveUnarchiveCard', { ...this.card, archived: !this.card.archived })\n\t\t},\n\t},\n})\n</script>\n<style scoped lang=\"scss\">\n.done-info {\n\tflex-grow: 1;\n}\n\n.done-info--duedate,\n.done-info--done {\n\tdisplay: flex;\n\t&.dimmed {\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n}\n\n.completed-button {\n\tmargin-left: auto;\n}\n\n.due-actions {\n\tdisplay: flex;\n\talign-items: flex-start;\n}\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"selector-wrapper\" :aria-label=\"t('deck', 'Assign a tag to this card…')\" data-test=\"tag-selector\">\n\t\t<div class=\"selector-wrapper--icon\">\n\t\t\t<TagMultiple :size=\"20\" />\n\t\t</div>\n\t\t<NcSelect :value=\"assignedLabels\"\n\t\t\tclass=\"selector-wrapper--selector\"\n\t\t\t:multiple=\"true\"\n\t\t\t:disabled=\"disabled\"\n\t\t\t:options=\"labelsSorted\"\n\t\t\t:aria-label-combobox=\"t('deck', 'Assign a tag to this card…')\"\n\t\t\t:placeholder=\"t('deck', 'Select or create a tag…')\"\n\t\t\t:taggable=\"true\"\n\t\t\t:close-on-select=\"false\"\n\t\t\tlabel=\"title\"\n\t\t\ttrack-by=\"id\"\n\t\t\ttag-position=\"bottom\"\n\t\t\t@option:selected=\"onSelect\"\n\t\t\t@option:deselected=\"onRemove\"\n\t\t\t@option:created=\"onNewTag\">\n\t\t\t<template #option=\"scope\">\n\t\t\t\t<div v-if=\"!scope?.isTag\" :style=\"{ backgroundColor: '#' + scope.color, color: textColor(scope.color)}\" class=\"tag\">\n\t\t\t\t\t{{ scope.title }}\n\t\t\t\t</div>\n\t\t\t\t<div v-else>\n\t\t\t\t\t{{ t('deck', 'Create a new tag:') }} <div class=\"tag\">\n\t\t\t\t\t\t{{ scope.label }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template #selected-option=\"scope\">\n\t\t\t\t<div :style=\"{ backgroundColor: '#' + scope.color, color: textColor(scope.color)}\" class=\"tag\">\n\t\t\t\t\t{{ scope.title }}\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</NcSelect>\n\t</div>\n</template>\n\n<script>\nimport { NcSelect } from '@nextcloud/vue'\nimport Color from '../../mixins/color.js'\nimport TagMultiple from 'vue-material-design-icons/TagMultiple.vue'\n\nexport default {\n\tname: 'TagSelector',\n\tcomponents: { TagMultiple, NcSelect },\n\tmixins: [Color],\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\tlabels: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tcomputed: {\n\t\tlabelsSorted() {\n\t\t\treturn [...this.labels].sort((a, b) => (a.title < b.title) ? -1 : 1)\n\t\t\t\t.filter(label => this.card.labels.findIndex((l) => l.id === label.id) === -1)\n\t\t},\n\t\tassignedLabels() {\n\t\t\treturn [...this.card.labels].sort((a, b) => (a.title < b.title) ? -1 : 1)\n\t\t},\n\t},\n\tmethods: {\n\t\tonSelect(options) {\n\t\t\tconst addedLabel = options.filter(option => !this.card.labels.includes(option))\n\t\t\tthis.$emit('select', addedLabel[0])\n\t\t},\n\t\tonRemove(removedLabel) {\n\t\t\tthis.$emit('remove', removedLabel)\n\t\t},\n\t\tasync onNewTag(option) {\n\t\t\tthis.$emit('newtag', option.title)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../css/selector';\n\n.v-select:deep(.vs__selected) {\n\tpadding-left: 0 !important;\n}\n\n.tag {\n\tflex-grow: 0;\n\tflex-shrink: 1;\n\toverflow: hidden;\n\tpadding: 3px 12px;\n\tdisplay: inline-block;\n\tborder-radius: var(--border-radius-pill);\n\tmargin-right: 3px;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<span :aria-hidden=\"!title\"\n\t\t:aria-label=\"title\"\n\t\tclass=\"material-design-icon deck-icon\"\n\t\trole=\"img\"\n\t\tv-bind=\"$attrs\"\n\t\t@click=\"$emit('click', $event)\">\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t:fill=\"fillColor\"\n\t\t\t:height=\"size\"\n\t\t\t:width=\"size\"\n\t\t\tversion=\"1.1\"\n\t\t\tviewBox=\"0 0 16 16\">\n\t\t\t<rect ry=\"1\"\n\t\t\t\theight=\"8\"\n\t\t\t\twidth=\"14\"\n\t\t\t\ty=\"7\"\n\t\t\t\tx=\"1\" />\n\t\t\t<rect ry=\".5\"\n\t\t\t\theight=\"1\"\n\t\t\t\twidth=\"12\"\n\t\t\t\ty=\"5\"\n\t\t\t\tx=\"2\" />\n\t\t\t<rect ry=\".5\"\n\t\t\t\theight=\"1\"\n\t\t\t\twidth=\"10\"\n\t\t\t\ty=\"3\"\n\t\t\t\tx=\"3\" />\n\t\t\t<rect ry=\".5\"\n\t\t\t\theight=\"1\"\n\t\t\t\twidth=\"8\"\n\t\t\t\ty=\"1\"\n\t\t\t\tx=\"4\" />\n\t\t</svg>\n\t</span>\n</template>\n\n<script>\nexport default {\n\tname: 'DeckIcon',\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tfillColor: {\n\t\t\ttype: String,\n\t\t\tdefault: 'currentColor',\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 24,\n\t\t},\n\t},\n}\n</script>\n","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"modal-scroller\">\n\t\t<div v-if=\"!creating && !created\" id=\"modal-inner\" :class=\"{ 'icon-loading': loading }\">\n\t\t\t<h2>{{ t('deck', 'Create a new card') }}</h2>\n\t\t\t<input ref=\"cardTitleInput\"\n\t\t\t\tv-model=\"card.title\"\n\t\t\t\tv-focus\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"card-title\"\n\t\t\t\t:placeholder=\"t('deck', 'Card title')\"\n\t\t\t\t:disabled=\"loading\">\n\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col selector-wrapper\">\n\t\t\t\t\t<div class=\"selector-wrapper--icon\">\n\t\t\t\t\t\t<DeckIcon :size=\"20\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<NcSelect v-model=\"selectedBoard\"\n\t\t\t\t\t\t:placeholder=\"t('deck', 'Select a board')\"\n\t\t\t\t\t\t:options=\"boards\"\n\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\tlabel=\"title\"\n\t\t\t\t\t\tclass=\"selector-wrapper--selector multiselect-board\"\n\t\t\t\t\t\t@option:selected=\"onSelectBoard\">\n\t\t\t\t\t\t<template #selected-option=\"option\">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<span :style=\"{ 'backgroundColor': '#' + option.color }\" class=\"board-bullet\" />\n\t\t\t\t\t\t\t\t<span data-cy=\"board-select-title\">{{ option.title }}</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #option=\"option\">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<span :style=\"{ 'backgroundColor': '#' + option.color }\" class=\"board-bullet\" />\n\t\t\t\t\t\t\t\t<span data-cy=\"board-select-title\">{{ option.title }}</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcSelect>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"col selector-wrapper\">\n\t\t\t\t\t<div class=\"selector-wrapper--icon\">\n\t\t\t\t\t\t<FormatColumnsIcon :size=\"20\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<NcSelect v-model=\"selectedStack\"\n\t\t\t\t\t\t:placeholder=\"t('deck', 'Select a list')\"\n\t\t\t\t\t\t:options=\"stacksFromBoard\"\n\t\t\t\t\t\t:max-height=\"100\"\n\t\t\t\t\t\t:disabled=\"loading || !selectedBoard\"\n\t\t\t\t\t\tclass=\"selector-wrapper--selector multiselect-list\"\n\t\t\t\t\t\tlabel=\"title\"\n\t\t\t\t\t\t@option:selected=\"onSelectStack\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<TagSelector :card=\"card\"\n\t\t\t\t:labels=\"labels\"\n\t\t\t\t:disabled=\"loading || !selectedBoard\"\n\t\t\t\t@select=\"onSelectLabel\"\n\t\t\t\t@remove=\"onRemoveLabel\"\n\t\t\t\t@newtag=\"addLabelToBoardAndCard\" />\n\n\t\t\t<AssignmentSelector :card=\"card\"\n\t\t\t\t:assignables=\"assignables\"\n\t\t\t\t@select=\"onSelectUser\"\n\t\t\t\t@remove=\"onRemoveUser\" />\n\n\t\t\t<DueDateSelector :card=\"card\"\n\t\t\t\t:can-edit=\"!loading && !!selectedBoard\"\n\t\t\t\t@change=\"updateCardDue\"\n\t\t\t\t@input=\"updateCardDue\" />\n\n\t\t\t<Description :key=\"card.id\"\n\t\t\t\t:card=\"card\"\n\t\t\t\t@change=\"descriptionChanged\" />\n\n\t\t\t<div class=\"modal-buttons\">\n\t\t\t\t<NcButton @click=\"close\">\n\t\t\t\t\t{{ t('deck', 'Cancel') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<NcButton :disabled=\"loading || !isBoardAndStackChoosen\"\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t@click=\"createCard\">\n\t\t\t\t\t{{ t('deck', 'Create card') }}\n\t\t\t\t</NcButton>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-else id=\"modal-inner\">\n\t\t\t<NcEmptyContent v-if=\"creating\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<NcLoadingIcon />\n\t\t\t\t</template>\n\t\t\t\t<template #name>\n\t\t\t\t\t{{ t('deck', 'Creating the new card …') }}\n\t\t\t\t</template>\n\t\t\t</NcEmptyContent>\n\t\t\t<NcEmptyContent v-else-if=\"created && showCreatedNotice\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<CardPlusOutline />\n\t\t\t\t</template>\n\t\t\t\t<template #name>\n\t\t\t\t\t{{ t('deck', 'Card \"{card}\" was added to \"{board}\"', { card: card.title, board: selectedBoard.title }) }}\n\t\t\t\t</template>\n\t\t\t\t<template #action>\n\t\t\t\t\t<button class=\"primary\" @click=\"openNewCard\">\n\t\t\t\t\t\t{{ t('deck', 'Open card') }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button @click=\"close\">\n\t\t\t\t\t\t{{ t('deck', 'Close') }}\n\t\t\t\t\t</button>\n\t\t\t\t</template>\n\t\t\t</NcEmptyContent>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { generateUrl } from '@nextcloud/router'\nimport {\n\tNcButton,\n\tNcSelect,\n\tNcEmptyContent,\n\tNcLoadingIcon,\n} from '@nextcloud/vue'\nimport axios from '@nextcloud/axios'\nimport { CardApi } from '../services/CardApi.js'\nimport Color from '../mixins/color.js'\nimport AssignmentSelector from '../components/card/AssignmentSelector.vue'\nimport TagSelector from '../components/card/TagSelector.vue'\nimport { BoardApi } from '../services/BoardApi.js'\nimport DueDateSelector from '../components/card/DueDateSelector.vue'\nimport Description from '../components/card/Description.vue'\nimport CardPlusOutline from 'vue-material-design-icons/CardPlusOutline.vue'\nimport FormatColumnsIcon from 'vue-material-design-icons/FormatColumns.vue'\nimport DeckIcon from '../components/icons/DeckIcon.vue'\nimport { showError } from '../helpers/errors.js'\n\nconst cardApi = new CardApi()\nconst apiClient = new BoardApi()\n\nexport default {\n\tname: 'CreateNewCardCustomPicker',\n\tcomponents: {\n\t\tDeckIcon,\n\t\tFormatColumnsIcon,\n\t\tCardPlusOutline,\n\t\tDescription,\n\t\tDueDateSelector,\n\t\tTagSelector,\n\t\tAssignmentSelector,\n\t\tNcButton,\n\t\tNcSelect,\n\t\tNcEmptyContent,\n\t\tNcLoadingIcon,\n\t},\n\tmixins: [Color],\n\tprops: {\n\t\tshowCreatedNotice: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tdescription: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\taction: {\n\t\t\ttype: String,\n\t\t\tdefault: t('deck', 'Create card'),\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcard: {\n\t\t\t\ttitle: '',\n\t\t\t\tdescription: '',\n\t\t\t\tlabels: [],\n\t\t\t\tassignedUsers: [],\n\t\t\t\tduedate: null,\n\t\t\t},\n\t\t\tboards: [],\n\t\t\tstacksFromBoard: [],\n\t\t\tlabels: [],\n\t\t\tselectedUsers: [],\n\t\t\tloading: true,\n\t\t\tselectedStack: '',\n\t\t\tselectedBoard: '',\n\t\t\tselectedLabels: [],\n\t\t\tboardUsers: [],\n\t\t\tboardAcl: [],\n\t\t\tcreating: false,\n\t\t\tcreated: false,\n\t\t\tnewCard: {},\n\t\t}\n\t},\n\tcomputed: {\n\t\tisBoardAndStackChoosen() {\n\t\t\treturn !(this.selectedBoard === '' || this.selectedStack === '')\n\t\t},\n\t\tassignables() {\n\t\t\treturn [\n\t\t\t\t...this.boardUsers.map((user) => ({ ...user, type: 0 })),\n\t\t\t\t...this.boardAcl.filter((acl) => acl.type === 1 && typeof acl.participant === 'object').map((group) => ({ ...group.participant, type: 1 })),\n\t\t\t\t...this.boardAcl.filter((acl) => acl.type === 7 && typeof acl.participant === 'object').map((circle) => ({ ...circle.participant, type: 7 })),\n\t\t\t]\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tthis.$set(this.card, 'title', this.title)\n\t\tthis.$set(this.card, 'description', this.description)\n\t\tthis.fetchBoards()\n\t},\n\tmounted() {\n\t\tthis.$nextTick(() => {\n\t\t\tthis.$refs.cardTitleInput.focus()\n\t\t})\n\t},\n\tmethods: {\n\t\tfetchBoards() {\n\t\t\taxios.get(generateUrl('/apps/deck/boards')).then((response) => {\n\t\t\t\tthis.boards = response.data.filter((board) => {\n\t\t\t\t\treturn board?.permissions?.PERMISSION_EDIT && !board?.archived && !board?.deletedAt\n\t\t\t\t})\n\t\t\t\tthis.loading = false\n\t\t\t\tthis.preSelectBoard()\n\t\t\t})\n\t\t},\n\t\tasync fetchBoardDetails(board) {\n\t\t\ttry {\n\t\t\t\tconst url = generateUrl('/apps/deck/boards/' + board.id)\n\t\t\t\tconst response = await axios.get(url)\n\t\t\t\tthis.stacksFromBoard = response.data.stacks\n\t\t\t\tthis.labels = response.data.labels\n\t\t\t\tthis.boardUsers = response.data.users\n\t\t\t\tthis.boardAcl = response.data.acl\n\t\t\t\tthis.preSelectStack()\n\t\t\t} catch (err) {\n\t\t\t\treturn err\n\t\t\t}\n\n\t\t},\n\t\tclose() {\n\t\t\tthis.$emit('cancel')\n\t\t},\n\t\tasync createCard() {\n\t\t\tthis.creating = true\n\n\t\t\ttry {\n\t\t\t\tconst response = await cardApi.addCard({\n\t\t\t\t\tboardId: this.selectedBoard.id,\n\t\t\t\t\tstackId: this.selectedStack.id,\n\t\t\t\t\ttitle: this.card.title,\n\t\t\t\t\tdescription: this.card.description,\n\t\t\t\t\tduedate: this.card.duedate,\n\t\t\t\t\tlabels: this.card.labels.map(label => label.id),\n\t\t\t\t\tusers: this.card.assignedUsers.map(user => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tid: user.uid,\n\t\t\t\t\t\t\ttype: user.type,\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t\tthis.newCard = response\n\t\t\t\tthis.creating = false\n\t\t\t\tthis.created = true\n\t\t\t\tthis.$emit('submit', window.location.protocol + '//' + window.location.host + generateUrl('/apps/deck') + `/card/${this.newCard.id}`)\n\t\t\t} catch (e) {\n\t\t\t\tthis.creating = false\n\t\t\t\tshowError(e)\n\t\t\t}\n\t\t},\n\t\tonSelectLabel(label) {\n\t\t\tthis.card.labels.push(label)\n\t\t},\n\t\tonRemoveLabel(removedLabel) {\n\t\t\tthis.card.labels = this.card.label.filter(label => label.id !== removedLabel.id)\n\t\t},\n\t\tonSelectUser(user) {\n\t\t\tthis.card.assignedUsers.push(user)\n\t\t},\n\t\tonRemoveUser(removedUser) {\n\t\t\tthis.card.assignedUsers = this.card.assignedUsers.filter(user => user.uid !== removedUser.uid)\n\t\t},\n\t\tasync addLabelToBoardAndCard(name) {\n\t\t\tconst label = await apiClient.createLabel({\n\t\t\t\ttitle: name,\n\t\t\t\tcolor: this.randomColor(),\n\t\t\t\tboardId: this.selectedBoard.id,\n\t\t\t})\n\t\t\tthis.card.labels.push(label)\n\t\t\tthis.labels.push(label)\n\t\t},\n\t\tupdateCardDue(newValue) {\n\t\t\tthis.card.duedate = newValue\n\t\t},\n\t\tdescriptionChanged(newValue) {\n\t\t\tthis.card.description = newValue\n\t\t},\n\t\topenNewCard() {\n\t\t\twindow.location = generateUrl('/apps/deck') + `#/board/${this.selectedBoard.id}/card/${this.newCard.id}`\n\t\t},\n\t\tpreSelectBoard() {\n\t\t\tconst selectedBoardId = Number(localStorage.getItem('deck.selectedBoardId'))\n\t\t\tconst preSelectedBoard = this.boards.find(item => item.id === selectedBoardId)\n\n\t\t\tif (preSelectedBoard) {\n\t\t\t\tthis.selectedBoard = preSelectedBoard\n\t\t\t\tthis.onSelectBoard(preSelectedBoard)\n\t\t\t}\n\t\t},\n\t\tpreSelectStack() {\n\t\t\tconst selectedStackId = Number(localStorage.getItem('deck.selectedStackId'))\n\t\t\tconst preSelectedStack = this.stacksFromBoard.find(item => item.id === selectedStackId)\n\n\t\t\tif (preSelectedStack) {\n\t\t\t\tthis.selectedStack = preSelectedStack\n\t\t\t}\n\t\t},\n\t\tasync onSelectBoard(board) {\n\t\t\tlocalStorage.setItem('deck.selectedBoardId', board.id)\n\t\t\tthis.selectedStack = ''\n\t\t\tawait this.fetchBoardDetails(board)\n\t\t},\n\t\tonSelectStack(stack) {\n\t\t\tlocalStorage.setItem('deck.selectedStackId', stack.id)\n\t\t},\n\t},\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../css/selector';\n\n.modal-scroller {\n\toverflow: scroll;\n\tmax-height: calc(80vh - 40px);\n\twidth: calc(100% - 24px);\n\tpadding: 12px;\n}\n\n#modal-inner {\n\twidth: auto;\n\tmargin-left: 10px;\n\tmargin-right: 10px;\n}\n\nh2 {\n\ttext-align: center;\n}\n\n.card-title {\n\twidth: 100%;\n}\n\n.board-bullet {\n\tdisplay: inline-block;\n\twidth: 12px;\n\theight: 12px;\n\tborder: none;\n\tborder-radius: 50%;\n\tcursor: pointer;\n}\n\n.modal-buttons {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tposition: sticky;\n\tbottom: 0;\n\tz-index: 10100;\n\tgap: 12px;\n}\n\n.v-select {\n\tmin-width: auto !important;\n}\n\n.empty-content {\n\tmargin-top: 5vh !important;\n\n\t&:deep(h2) {\n\t\tmargin-bottom: 5vh;\n\t}\n}\n\n.row {\n\tdisplay: flex;\n\tgap: 12px;\n\n\t.col {\n\t\tdisplay: flex;\n\t\twidth: 50%;\n\t}\n}\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"attachments-drag-zone\",on:{\"dragover\":function($event){$event.preventDefault();!_vm.isDraggingOver && (_vm.isDraggingOver = true)},\"dragleave\":function($event){$event.preventDefault();_vm.isDraggingOver && (_vm.isDraggingOver = false)},\"drop\":function($event){$event.preventDefault();return _vm.handleDropFiles.apply(null, arguments)}}},[_vm._t(\"default\"),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDraggingOver),expression:\"isDraggingOver\"}],staticClass:\"dragover\"},[_c('div',{staticClass:\"drop-hint\"},[_c('div',{staticClass:\"drop-hint__icon\",class:{\n\t\t\t\t\t\t'icon-upload' : !_vm.isReadOnly,\n\t\t\t\t\t\t'icon-error' : _vm.isReadOnly}}),_vm._v(\" \"),_c('h2',{staticClass:\"drop-hint__text\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.dropHintText)+\"\\n\\t\\t\\t\\t\")])])])]),_vm._v(\" \"),(_vm.modalShow)?_c('NcModal',{attrs:{\"name\":_vm.t('deck', 'File already exists')},on:{\"close\":function($event){_vm.modalShow=false}}},[_c('div',{staticClass:\"modal__content\"},[_c('h2',[_vm._v(_vm._s(_vm.t('deck', 'File already exists')))]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'A file with the name {filename} already exists.', {filename: _vm.file.name}))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Do you want to overwrite it?'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('button',{staticClass:\"primary\",on:{\"click\":_vm.overrideAttachment}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Overwrite file'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.modalShow=false}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Keep existing file'))+\"\\n\\t\\t\\t\")])])]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"selector-wrapper\",attrs:{\"aria-label\":_vm.t('deck', 'Assign to users/groups/team'),\"data-test\":\"assignment-selector\"}},[_c('div',{staticClass:\"selector-wrapper--icon\"},[_c('AccountMultiple',{attrs:{\"size\":20}})],1),_vm._v(\" \"),(_vm.canEdit)?_c('NcSelect',{staticClass:\"selector-wrapper--selector\",attrs:{\"disabled\":_vm.assignables.length === 0,\"multiple\":true,\"options\":_vm.formatedAssignables,\"user-select\":true,\"aria-label-combobox\":_vm.t('deck', 'Assign a user to this card…'),\"placeholder\":_vm.t('deck', 'Select a user to assign to this card…'),\"label\":\"displayname\",\"track-by\":\"multiselectKey\"},on:{\"option:selected\":_vm.onSelect,\"option:deselected\":_vm.onRemove},scopedSlots:_vm._u([{key:\"tag\",fn:function(scope){return [_c('div',{staticClass:\"avatarlist--inline\"},[_c('NcAvatar',{attrs:{\"user\":scope.option.uid,\"display-name\":scope.option.displayname,\"size\":24,\"is-no-user\":scope.option.isNoUser,\"disable-menu\":true}})],1)]}}],null,false,3822791635),model:{value:(_vm.assignedUsers),callback:function ($$v) {_vm.assignedUsers=$$v},expression:\"assignedUsers\"}}):_c('div',{staticClass:\"avatar-list--readonly\"},_vm._l((_vm.assignedUsers),function(option){return _c('NcAvatar',{key:option.primaryKey,attrs:{\"user\":option.uid,\"display-name\":option.displayname,\"is-no-user\":option.isNoUser,\"size\":32}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AttachmentDragAndDrop',{staticClass:\"drop-upload--sidebar\",attrs:{\"card-id\":_vm.cardId}},[(!_vm.isReadOnly)?_c('div',{staticClass:\"button-group\"},[_c('NcButton',{staticClass:\"icon-upload\",on:{\"click\":function($event){return _vm.uploadNewFile()}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Upload new files'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{staticClass:\"icon-folder\",on:{\"click\":function($event){return _vm.shareFromFiles()}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Share from Files'))+\"\\n\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),_c('input',{ref:\"filesAttachment\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.handleUploadFile}}),_vm._v(\" \"),_c('ul',{staticClass:\"attachment-list\"},[_vm._l((_vm.uploadQueue),function(attachment){return _c('li',{key:attachment.name,staticClass:\"attachment\"},[_c('a',{staticClass:\"fileicon\",style:(_vm.mimetypeForAttachment())}),_vm._v(\" \"),_c('div',{staticClass:\"details\"},[_c('a',[_c('div',{staticClass:\"filename\"},[_c('span',[_vm._v(_vm._s(_vm.attachmentBasename(attachment)))]),_vm._v(\" \"),_c('span',{staticClass:\"extension\"},[_vm._v(\".\"+_vm._s(_vm.attachmentExtension(attachment)))])]),_vm._v(\" \"),_c('progress',{attrs:{\"max\":\"100\"},domProps:{\"value\":attachment.progress}})])])])}),_vm._v(\" \"),_vm._l((_vm.attachments),function(attachment){return _c('li',{key:attachment.id,staticClass:\"attachment\",class:{ 'attachment--deleted': attachment.deletedAt > 0 }},[_c('a',{staticClass:\"fileicon\",style:(_vm.mimetypeForAttachment(attachment)),attrs:{\"href\":_vm.internalLink(attachment)},on:{\"click\":function($event){$event.preventDefault();return _vm.showViewer(attachment)}}}),_vm._v(\" \"),_c('div',{staticClass:\"details\"},[_c('a',{attrs:{\"href\":_vm.internalLink(attachment)},on:{\"click\":function($event){$event.preventDefault();return _vm.showViewer(attachment)}}},[_c('div',{staticClass:\"filename\"},[_c('span',[_vm._v(_vm._s(_vm.attachmentBasename(attachment)))]),_vm._v(\" \"),_c('span',{staticClass:\"extension\"},[_vm._v(\".\"+_vm._s(_vm.attachmentExtension(attachment)))])]),_vm._v(\" \"),(attachment.deletedAt === 0)?_c('div',[_c('span',{staticClass:\"filesize\"},[_vm._v(_vm._s(_vm.formattedFileSize(attachment.extendedData.filesize)))]),_vm._v(\" \"),_c('span',{staticClass:\"filedate\"},[_vm._v(_vm._s(_vm.relativeDate(attachment.createdAt*1000)))]),_vm._v(\" \"),_c('span',{staticClass:\"filedate\"},[_vm._v(_vm._s(attachment.extendedData.attachmentCreator.displayName))])]):_c('div',[_c('span',{staticClass:\"attachment--info\"},[_vm._v(_vm._s(_vm.t('deck', 'Pending share')))])])])]),_vm._v(\" \"),(_vm.selectable)?_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-confirm\"},on:{\"click\":function($event){return _vm.$emit('select-attachment', attachment)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Add this attachment'))+\"\\n\\t\\t\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),(_vm.removable && !_vm.isReadOnly)?_c('NcActions',{attrs:{\"force-menu\":true}},[(attachment.extendedData.fileid)?_c('NcActionLink',{attrs:{\"icon\":\"icon-folder\",\"href\":_vm.internalLink(attachment)}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Show in Files'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(attachment.extendedData.fileid)?_c('NcActionLink',{attrs:{\"icon\":\"icon-download\",\"href\":_vm.downloadLink(attachment),\"download\":\"\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Download'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(attachment.extendedData.fileid && !_vm.isReadOnly)?_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\"},on:{\"click\":function($event){return _vm.unshareAttachment(attachment)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Remove attachment'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!attachment.extendedData.fileid && attachment.deletedAt === 0)?_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\"},on:{\"click\":function($event){return _vm.$emit('delete-attachment', attachment)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Delete Attachment'))+\"\\n\\t\\t\\t\\t\")]):(!attachment.extendedData.fileid)?_c('NcActionButton',{attrs:{\"icon\":\"icon-history\"},on:{\"click\":function($event){return _vm.$emit('restore-attachment', attachment)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Restore Attachment'))+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1):_vm._e()],1)})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"selector-wrapper\",attrs:{\"aria-label\":_vm.label}},[_c('div',{staticClass:\"selector-wrapper--icon\"},[_vm._t(\"icon\")],2),_vm._v(\" \"),_c('div',{staticClass:\"selector-wrapper--content\"},[_vm._t(\"default\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"data-test\":\"description\"}},[_c('h5',[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Description'))+\"\\n\\t\\t\"),(_vm.descriptionLastEdit && !_vm.descriptionSaving)?_c('span',[_vm._v(_vm._s(_vm.t('deck', '(Unsaved)')))]):_vm._e(),_vm._v(\" \"),(_vm.descriptionSaving)?_c('span',[_vm._v(_vm._s(_vm.t('deck', '(Saving…)')))]):_vm._e(),_vm._v(\" \"),(!_vm.textAppAvailable)?_c('a',{staticClass:\"icon icon-info\",attrs:{\"title\":_vm.t('deck', 'Formatting help'),\"href\":\"https://deck.readthedocs.io/en/latest/Markdown/\",\"target\":\"_blank\"}}):_vm._e(),_vm._v(\" \"),(!_vm.textAppAvailable && _vm.canEdit)?_c('NcActions',[(!_vm.descriptionEditing)?_c('NcActionButton',{attrs:{\"icon\":\"icon-rename\"},on:{\"click\":function($event){return _vm.showEditor()}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Edit description'))+\"\\n\\t\\t\\t\")]):_c('NcActionButton',{attrs:{\"icon\":\"icon-toggle\"},on:{\"click\":function($event){return _vm.hideEditor()}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'View description'))+\"\\n\\t\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),(_vm.canEdit && !!_vm.card.id)?_c('NcActions',[(_vm.descriptionEditing)?_c('NcActionButton',{on:{\"click\":function($event){return _vm.showAttachmentModal()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('PaperclipIcon',{attrs:{\"size\":24,\"decorative\":\"\"}})]},proxy:true}],null,false,4144504161)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Add Attachment'))+\"\\n\\t\\t\\t\")]):_vm._e()],1):_vm._e()],1),_vm._v(\" \"),(_vm.textAppAvailable)?_c('div',{staticClass:\"description__text\"},[_c('div',{ref:\"editor\"})]):[(!_vm.descriptionEditing && _vm.hasDescription)?_c('div',{attrs:{\"id\":\"description-preview\",\"dir\":\"auto\"},domProps:{\"innerHTML\":_vm._s(_vm.renderedDescription)},on:{\"click\":_vm.clickedPreview}}):(!_vm.descriptionEditing)?_c('p',{staticClass:\"placeholder\",on:{\"click\":function($event){return _vm.showEditor()}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Write a description …'))+\"\\n\\t\\t\")]):_c('VueEasymde',{key:_vm.card.id,ref:\"markdownEditor\",attrs:{\"configs\":_vm.mdeConfig},on:{\"initialized\":_vm.addKeyListeners,\"update:modelValue\":_vm.updateDescription,\"blur\":_vm.saveDescription},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],_vm._v(\" \"),(_vm.modalShow && !!_vm.card.id)?_c('NcModal',{attrs:{\"title\":_vm.t('deck', 'Choose attachment')},on:{\"close\":function($event){_vm.modalShow=false}}},[_c('div',{staticClass:\"modal__content\"},[_c('h3',[_vm._v(_vm._s(_vm.t('deck', 'Choose attachment')))]),_vm._v(\" \"),_c('AttachmentList',{attrs:{\"card-id\":_vm.card.id,\"selectable\":true},on:{\"select-attachment\":_vm.addAttachment}})],1)]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('CardDetailEntry',{attrs:{\"label\":_vm.t('deck', 'Assign a due date to this card…'),\"data-test\":\"due-date-selector\"}},[(!_vm.card.done)?_c('Calendar',{attrs:{\"slot\":\"icon\",\"size\":20},slot:\"icon\"}):_c('CalendarCheck',{attrs:{\"slot\":\"icon\",\"size\":20},slot:\"icon\"}),_vm._v(\" \"),(!_vm.card.done && !_vm.card.archived)?[(_vm.duedate)?_c('NcDateTimePickerNative',{attrs:{\"id\":\"card-duedate-picker\",\"placeholder\":_vm.t('deck', 'Set a due date'),\"hide-label\":true,\"type\":\"datetime-local\"},model:{value:(_vm.duedate),callback:function ($$v) {_vm.duedate=$$v},expression:\"duedate\"}}):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActions',{attrs:{\"menu-title\":!_vm.duedate ? _vm.t('deck', 'Add due date') : null,\"type\":\"tertiary\",\"data-cy-due-date-actions\":\"\"},scopedSlots:_vm._u([(!_vm.duedate)?{key:\"icon\",fn:function(){return [_c('Plus',{attrs:{\"size\":20}})]},proxy:true}:null],null,true)},[_vm._v(\" \"),_vm._l((_vm.reminderOptions),function(shortcut){return _c('NcActionButton',{key:shortcut.key,attrs:{\"close-after-click\":\"\",\"data-cy-due-date-shortcut\":shortcut.key},on:{\"click\":() => _vm.selectShortcut(shortcut)}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(shortcut.label)+\"\\n\\t\\t\\t\")])}),_vm._v(\" \"),_c('NcActionSeparator'),_vm._v(\" \"),(!_vm.duedate)?_c('NcActionButton',{attrs:{\"close-after-click\":\"\",\"data-cy-due-date-pick\":\"\"},on:{\"click\":_vm.initDate},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Plus',{attrs:{\"size\":20}})]},proxy:true}],null,false,32235154)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Choose a date'))+\"\\n\\t\\t\\t\")]):_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\",\"close-after-click\":\"\",\"data-cy-due-date-remove\":\"\"},on:{\"click\":_vm.removeDue}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Remove due date'))+\"\\n\\t\\t\\t\")])],2):_vm._e(),_vm._v(\" \"),(!_vm.card.done)?_c('NcButton',{staticClass:\"completed-button\",attrs:{\"type\":\"secondary\"},on:{\"click\":function($event){return _vm.changeCardDoneStatus()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CheckIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2630571749)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Mark as done'))+\"\\n\\t\\t\")]):_vm._e()]:[_c('div',{staticClass:\"done-info\"},[(_vm.card.done)?_c('span',{staticClass:\"done-info--done\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.formatReadableDate(_vm.card.done))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.duedate)?_c('span',{staticClass:\"done-info--duedate\",class:{ 'dimmed': _vm.card.done }},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Due at:'))+\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.formatReadableDate(_vm.duedate))+\"\\n\\t\\t\\t\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"due-actions\"},[(!_vm.card.archived)?_c('NcButton',{attrs:{\"type\":\"tertiary\",\"name\":_vm.t('deck', 'Not done')},on:{\"click\":function($event){return _vm.changeCardDoneStatus()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ClearIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2596465594)}):_vm._e(),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"secondary\"},on:{\"click\":function($event){return _vm.archiveUnarchiveCard()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.card.archived ? _vm.t('deck', 'Unarchive card') : _vm.t('deck', 'Archive card'))+\"\\n\\t\\t\\t\")])],1)]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"selector-wrapper\",attrs:{\"aria-label\":_vm.t('deck', 'Assign a tag to this card…'),\"data-test\":\"tag-selector\"}},[_c('div',{staticClass:\"selector-wrapper--icon\"},[_c('TagMultiple',{attrs:{\"size\":20}})],1),_vm._v(\" \"),_c('NcSelect',{staticClass:\"selector-wrapper--selector\",attrs:{\"value\":_vm.assignedLabels,\"multiple\":true,\"disabled\":_vm.disabled,\"options\":_vm.labelsSorted,\"aria-label-combobox\":_vm.t('deck', 'Assign a tag to this card…'),\"placeholder\":_vm.t('deck', 'Select or create a tag…'),\"taggable\":true,\"close-on-select\":false,\"label\":\"title\",\"track-by\":\"id\",\"tag-position\":\"bottom\"},on:{\"option:selected\":_vm.onSelect,\"option:deselected\":_vm.onRemove,\"option:created\":_vm.onNewTag},scopedSlots:_vm._u([{key:\"option\",fn:function(scope){return [(!scope?.isTag)?_c('div',{staticClass:\"tag\",style:({ backgroundColor: '#' + scope.color, color: _vm.textColor(scope.color)})},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(scope.title)+\"\\n\\t\\t\\t\")]):_c('div',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Create a new tag:'))+\" \"),_c('div',{staticClass:\"tag\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(scope.label)+\"\\n\\t\\t\\t\\t\")])])]}},{key:\"selected-option\",fn:function(scope){return [_c('div',{staticClass:\"tag\",style:({ backgroundColor: '#' + scope.color, color: _vm.textColor(scope.color)})},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(scope.title)+\"\\n\\t\\t\\t\")])]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',_vm._b({staticClass:\"material-design-icon deck-icon\",attrs:{\"aria-hidden\":!_vm.title,\"aria-label\":_vm.title,\"role\":\"img\"},on:{\"click\":function($event){return _vm.$emit('click', $event)}}},'span',_vm.$attrs,false),[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":_vm.fillColor,\"height\":_vm.size,\"width\":_vm.size,\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\"}},[_c('rect',{attrs:{\"ry\":\"1\",\"height\":\"8\",\"width\":\"14\",\"y\":\"7\",\"x\":\"1\"}}),_vm._v(\" \"),_c('rect',{attrs:{\"ry\":\".5\",\"height\":\"1\",\"width\":\"12\",\"y\":\"5\",\"x\":\"2\"}}),_vm._v(\" \"),_c('rect',{attrs:{\"ry\":\".5\",\"height\":\"1\",\"width\":\"10\",\"y\":\"3\",\"x\":\"3\"}}),_vm._v(\" \"),_c('rect',{attrs:{\"ry\":\".5\",\"height\":\"1\",\"width\":\"8\",\"y\":\"1\",\"x\":\"4\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal-scroller\"},[(!_vm.creating && !_vm.created)?_c('div',{class:{ 'icon-loading': _vm.loading },attrs:{\"id\":\"modal-inner\"}},[_c('h2',[_vm._v(_vm._s(_vm.t('deck', 'Create a new card')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.card.title),expression:\"card.title\"},{name:\"focus\",rawName:\"v-focus\"}],ref:\"cardTitleInput\",staticClass:\"card-title\",attrs:{\"type\":\"text\",\"placeholder\":_vm.t('deck', 'Card title'),\"disabled\":_vm.loading},domProps:{\"value\":(_vm.card.title)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.card, \"title\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col selector-wrapper\"},[_c('div',{staticClass:\"selector-wrapper--icon\"},[_c('DeckIcon',{attrs:{\"size\":20}})],1),_vm._v(\" \"),_c('NcSelect',{staticClass:\"selector-wrapper--selector multiselect-board\",attrs:{\"placeholder\":_vm.t('deck', 'Select a board'),\"options\":_vm.boards,\"disabled\":_vm.loading,\"label\":\"title\"},on:{\"option:selected\":_vm.onSelectBoard},scopedSlots:_vm._u([{key:\"selected-option\",fn:function(option){return [_c('span',[_c('span',{staticClass:\"board-bullet\",style:({ 'backgroundColor': '#' + option.color })}),_vm._v(\" \"),_c('span',{attrs:{\"data-cy\":\"board-select-title\"}},[_vm._v(_vm._s(option.title))])])]}},{key:\"option\",fn:function(option){return [_c('span',[_c('span',{staticClass:\"board-bullet\",style:({ 'backgroundColor': '#' + option.color })}),_vm._v(\" \"),_c('span',{attrs:{\"data-cy\":\"board-select-title\"}},[_vm._v(_vm._s(option.title))])])]}}],null,false,1384143629),model:{value:(_vm.selectedBoard),callback:function ($$v) {_vm.selectedBoard=$$v},expression:\"selectedBoard\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col selector-wrapper\"},[_c('div',{staticClass:\"selector-wrapper--icon\"},[_c('FormatColumnsIcon',{attrs:{\"size\":20}})],1),_vm._v(\" \"),_c('NcSelect',{staticClass:\"selector-wrapper--selector multiselect-list\",attrs:{\"placeholder\":_vm.t('deck', 'Select a list'),\"options\":_vm.stacksFromBoard,\"max-height\":100,\"disabled\":_vm.loading || !_vm.selectedBoard,\"label\":\"title\"},on:{\"option:selected\":_vm.onSelectStack},model:{value:(_vm.selectedStack),callback:function ($$v) {_vm.selectedStack=$$v},expression:\"selectedStack\"}})],1)]),_vm._v(\" \"),_c('TagSelector',{attrs:{\"card\":_vm.card,\"labels\":_vm.labels,\"disabled\":_vm.loading || !_vm.selectedBoard},on:{\"select\":_vm.onSelectLabel,\"remove\":_vm.onRemoveLabel,\"newtag\":_vm.addLabelToBoardAndCard}}),_vm._v(\" \"),_c('AssignmentSelector',{attrs:{\"card\":_vm.card,\"assignables\":_vm.assignables},on:{\"select\":_vm.onSelectUser,\"remove\":_vm.onRemoveUser}}),_vm._v(\" \"),_c('DueDateSelector',{attrs:{\"card\":_vm.card,\"can-edit\":!_vm.loading && !!_vm.selectedBoard},on:{\"change\":_vm.updateCardDue,\"input\":_vm.updateCardDue}}),_vm._v(\" \"),_c('Description',{key:_vm.card.id,attrs:{\"card\":_vm.card},on:{\"change\":_vm.descriptionChanged}}),_vm._v(\" \"),_c('div',{staticClass:\"modal-buttons\"},[_c('NcButton',{on:{\"click\":_vm.close}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Cancel'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{attrs:{\"disabled\":_vm.loading || !_vm.isBoardAndStackChoosen,\"type\":\"primary\"},on:{\"click\":_vm.createCard}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Create card'))+\"\\n\\t\\t\\t\")])],1)],1):_c('div',{attrs:{\"id\":\"modal-inner\"}},[(_vm.creating)?_c('NcEmptyContent',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('NcLoadingIcon')]},proxy:true},{key:\"name\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Creating the new card …'))+\"\\n\\t\\t\\t\")]},proxy:true}],null,false,4029083667)}):(_vm.created && _vm.showCreatedNotice)?_c('NcEmptyContent',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CardPlusOutline')]},proxy:true},{key:\"name\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Card \"{card}\" was added to \"{board}\"', { card: _vm.card.title, board: _vm.selectedBoard.title }))+\"\\n\\t\\t\\t\")]},proxy:true},{key:\"action\",fn:function(){return [_c('button',{staticClass:\"primary\",on:{\"click\":_vm.openNewCard}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Open card'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.close}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Close'))+\"\\n\\t\\t\\t\\t\")])]},proxy:true}])}):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { showError as errorDialog } from '@nextcloud/dialogs'\n\nconst showAxiosError = err => {\n\tconst response = err?.response || {}\n\tconst message = response?.data.message\n\n\tif (message) {\n\t\terrorDialog(message)\n\t\treturn\n\t}\n\n\terrorDialog(err.message)\n}\n\nconst showError = err => {\n\t// axios error\n\tif (err.response) {\n\t\tshowAxiosError(err)\n\t\treturn\n\t}\n\n\terrorDialog(err.message)\n}\n\nexport {\n\tshowError,\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { showError } from '@nextcloud/dialogs'\nimport { formatFileSize } from '@nextcloud/files'\n// eslint-disable-next-line import/no-unresolved\nimport PQueue from 'p-queue'\n\nconst queue = new PQueue({ concurrency: 2 })\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tuploadQueue: {},\n\t\t}\n\t},\n\tmethods: {\n\t\tasync onLocalAttachmentSelected(file, type) {\n\t\t\tif (this.maxUploadSize > 0 && file.size > this.maxUploadSize) {\n\t\t\t\tshowError(\n\t\t\t\t\tt('deck', 'Failed to upload {name}', { name: file.name }) + ' - '\n\t\t\t\t\t\t+ t('deck', 'Maximum file size of {size} exceeded', { size: formatFileSize(this.maxUploadSize) }),\n\t\t\t\t)\n\t\t\t\tevent.target.value = ''\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.$set(this.uploadQueue, file.name, { name: file.name, progress: 0 })\n\t\t\tconst bodyFormData = new FormData()\n\t\t\tbodyFormData.append('cardId', this.cardId)\n\t\t\tbodyFormData.append('type', type)\n\t\t\tbodyFormData.append('file', file)\n\t\t\tawait queue.add(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait this.$store.dispatch('createAttachment', {\n\t\t\t\t\t\tcardId: this.cardId,\n\t\t\t\t\t\tformData: bodyFormData,\n\t\t\t\t\t\tonUploadProgress: (e) => {\n\t\t\t\t\t\t\tconst percentCompleted = Math.round((e.loaded * 100) / e.total)\n\t\t\t\t\t\t\tconsole.debug(percentCompleted)\n\t\t\t\t\t\t\tthis.$set(this.uploadQueue[file.name], 'progress', percentCompleted)\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t} catch (err) {\n\t\t\t\t\tif (err.response.data.status === 409) {\n\t\t\t\t\t\tthis.overwriteAttachment = err.response.data.data\n\t\t\t\t\t\tthis.modalShow = true\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowError(err.response.data ? err.response.data.message : 'Failed to upload file')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$delete(this.uploadQueue, file.name)\n\t\t\t})\n\n\t\t},\n\n\t\toverrideAttachment() {\n\t\t\tconst bodyFormData = new FormData()\n\t\t\tbodyFormData.append('cardId', this.cardId)\n\t\t\tbodyFormData.append('type', 'deck_file')\n\t\t\tbodyFormData.append('file', this.file)\n\t\t\tthis.$store.dispatch('updateAttachment', {\n\t\t\t\tcardId: this.cardId,\n\t\t\t\tattachment: this.overwriteAttachment,\n\t\t\t\tformData: bodyFormData,\n\t\t\t})\n\n\t\t\tthis.modalShow = false\n\t\t},\n\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport chroma from 'chroma-js'\n\nexport default {\n\tmethods: {\n\t\ttextColor(hex) {\n\t\t\treturn chroma(hex ?? 'ffffff').get('lab.l') > 50 ? '#000000' : '#ffffff'\n\t\t},\n\t\tcolorIsValid(hex) {\n\t\t\tconst re = /[A-Fa-f0-9]{6}/\n\t\t\tif (re.test(hex)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\treturn false\n\t\t},\n\t\trandomColor() {\n\t\t\treturn Math.floor(Math.random() * (0xffffff + 1)).toString(16).padStart(6, '0')\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport moment from '@nextcloud/moment'\n\nexport default {\n\tcomputed: {\n\t\tformatReadableDate() {\n\t\t\treturn (timestamp) => {\n\t\t\t\treturn moment(timestamp).format('lll')\n\t\t\t}\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport moment from '@nextcloud/moment'\n\nexport default {\n\tcomputed: {\n\t\trelativeDate() {\n\t\t\treturn (timestamp) => {\n\t\t\t\tconst diff = moment(this.$root.time).diff(moment(timestamp))\n\t\t\t\tif (diff >= 0 && diff < 45000) {\n\t\t\t\t\treturn t('core', 'seconds ago')\n\t\t\t\t}\n\t\t\t\treturn moment(timestamp).fromNow()\n\t\t\t}\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\nimport '../models/index.js'\n\n/**\n * This class handles all the api communication with the Deck backend.\n */\nexport class BoardApi {\n\n\turl(url) {\n\t\turl = `/apps/deck${url}`\n\t\treturn generateUrl(url)\n\t}\n\n\t/**\n\t * Updates a board.\n\t *\n\t * @param {Board} board the board object to update\n\t * @return {Promise}\n\t */\n\tupdateBoard(board) {\n\t\treturn axios.put(this.url(`/boards/${board.id}`), board)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\t/**\n\t * Creates a new board.\n\t *\n\t * @typedef {object} BoardCreateObject\n\t * @property {string} title\n\t * @property {string} color\n\t * @param {BoardCreateObject} boardData The board data to send.\n\t *        color the hexadecimal color value formated /[0-9A-F]{6}/i\n\t * @return {Promise}\n\t */\n\tcreateBoard(boardData) {\n\t\treturn axios.post(this.url('/boards'), boardData)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tdeleteBoard(board) {\n\t\treturn axios.delete(this.url(`/boards/${board.id}`))\n\t\t\t.then(\n\t\t\t\t() => {\n\t\t\t\t\treturn Promise.resolve()\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tunDeleteBoard(board) {\n\t\treturn axios.post(this.url(`/boards/${board.id}/deleteUndo`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tloadBoards() {\n\t\treturn axios.get(this.url('/boards'))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tloadById(id) {\n\t\treturn axios.get(this.url(`/boards/${id}`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tasync cloneBoard(board, withCards = false, withAssignments = false, withLabels = false, withDueDate = false, moveCardsToLeftStack = false, restoreArchivedCards = false) {\n\t\ttry {\n\t\t\tconst response = await axios.post(this.url(`/boards/${board.id}/clone`), {\n\t\t\t\twithCards,\n\t\t\t\twithAssignments,\n\t\t\t\twithLabels,\n\t\t\t\twithDueDate,\n\t\t\t\tmoveCardsToLeftStack,\n\t\t\t\trestoreArchivedCards,\n\t\t\t})\n\t\t\treturn response.data\n\t\t} catch (err) {\n\t\t\treturn err\n\t\t}\n\t}\n\n\texportBoard(board) {\n\t\treturn axios.get(this.url(`/boards/${board.id}/export`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\tconst fields = { title: t('deck', 'Card title'), description: t('deck', 'Description'), stackId: t('deck', 'List name'), labels: t('deck', 'Tags'), duedate: t('deck', 'Due date'), createdAt: t('deck', 'Created'), lastModified: t('deck', 'Modified') }\n\t\t\t\t\tlet row = ''\n\t\t\t\t\tObject.keys(fields).forEach(field => {\n\t\t\t\t\t\trow += '\"' + fields[field] + '\"' + '\\t'\n\t\t\t\t\t})\n\n\t\t\t\t\trow = row.slice(0, -1)\n\t\t\t\t\tlet CSV = row + '\\r\\n'\n\n\t\t\t\t\tresponse.data.stacks.forEach(stack => {\n\t\t\t\t\t\tstack?.cards?.forEach(card => {\n\t\t\t\t\t\t\trow = ''\n\t\t\t\t\t\t\tObject.keys(fields).forEach(field => {\n\t\t\t\t\t\t\t\tif (field === 'createdAt' || field === 'lastModified') {\n\t\t\t\t\t\t\t\t\tconst date = new Date(Number(card[field]) * 1000)\n\t\t\t\t\t\t\t\t\trow += '\"' + date.toLocaleDateString() + '\"' + '\\t'\n\t\t\t\t\t\t\t\t} else if (field === 'stackId') {\n\t\t\t\t\t\t\t\t\trow += '\"' + stack.title + '\"' + '\\t'\n\t\t\t\t\t\t\t\t} else if (field === 'labels') {\n\t\t\t\t\t\t\t\t\trow += '\"'\n\t\t\t\t\t\t\t\t\tcard[field].forEach(label => {\n\t\t\t\t\t\t\t\t\t\trow += label.title + ', '\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tif (card[field].length > 0) {\n\t\t\t\t\t\t\t\t\t\trow = row.slice(0, -1)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\trow += '\"' + '\\t'\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\trow += '\"' + card[field] + '\"' + '\\t'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\trow = row.slice(0, -1)\n\t\t\t\t\t\t\tCSV += row + '\\r\\n'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t\tlet charCode = []\n\t\t\t\t\tconst byteArray = []\n\t\t\t\t\tbyteArray.push(255, 254)\n\t\t\t\t\tfor (let i = 0; i < CSV.length; ++i) {\n\t\t\t\t\t\tcharCode = CSV.charCodeAt(i)\n\t\t\t\t\t\tbyteArray.push(charCode & 0xff)\n\t\t\t\t\t\tbyteArray.push(charCode / 256 >>> 0)\n\t\t\t\t\t}\n\t\t\t\t\tconst blob = new Blob([new Uint8Array(byteArray)], { type: 'text/csv;charset=UTF-16LE;' })\n\t\t\t\t\tconst blobUrl = URL.createObjectURL(blob)\n\t\t\t\t\tconst a = document.createElement('a')\n\t\t\t\t\ta.href = blobUrl // 'data:' + data\n\t\t\t\t\ta.download = response.data.title + '.csv'\n\t\t\t\t\ta.click()\n\t\t\t\t\ta.remove()\n\t\t\t\t\treturn Promise.resolve()\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\t// Label API Calls\n\tdeleteLabel(id) {\n\t\treturn axios.delete(this.url(`/labels/${id}`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tupdateLabel(label) {\n\t\treturn axios.put(this.url(`/labels/${label.id}`), label)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tcreateLabel(labelData) {\n\t\treturn axios.post(this.url('/labels'), labelData)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\t// Acl API Calls\n\n\taddAcl(acl) {\n\t\treturn axios.post(this.url(`/boards/${acl.boardId}/acl`), acl)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tupdateAcl(acl) {\n\t\treturn axios.put(this.url(`/boards/${acl.boardId}/acl/${acl.id}`), acl)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tdeleteAcl(acl) {\n\t\treturn axios.delete(this.url(`/boards/${acl.boardId}/acl/${acl.id}`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl, generateUrl } from '@nextcloud/router'\n\nexport class CardApi {\n\n\turl(url) {\n\t\turl = `/apps/deck${url}`\n\t\treturn generateUrl(url)\n\t}\n\n\taddCard(card) {\n\t\treturn axios.post(this.url('/cards'), card)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tcloneCard(cardId, targetStackId) {\n\t\treturn axios.post(generateOcsUrl(`apps/deck/api/v1.0/cards/${cardId}/clone`), {\n\t\t\ttargetStackId,\n\t\t})\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tdeleteCard(cardId) {\n\t\treturn axios.delete(this.url(`/cards/${cardId}`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tdeletedCards(boardId) {\n\t\treturn axios.get(this.url(`/${boardId}/cards/deleted`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tupdateCard(card) {\n\t\treturn axios.put(this.url(`/cards/${card.id}`), card)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\treorderCard(card) {\n\t\treturn axios.put(this.url(`/cards/${card.id}/reorder`), card)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tassignUser(cardId, id, type) {\n\t\treturn axios.post(this.url(`/cards/${cardId}/assign`), { userId: id, type })\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tremoveUser(cardId, id, type) {\n\t\treturn axios.put(this.url(`/cards/${cardId}/unassign`), { userId: id, type })\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tarchiveCard(card) {\n\t\treturn axios.put(this.url(`/cards/${card.id}/archive`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tunArchiveCard(card) {\n\t\treturn axios.put(this.url(`/cards/${card.id}/unarchive`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tmarkCardAsDone(card) {\n\t\treturn axios.put(this.url(`/cards/${card.id}/done`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tmarkCardAsUndone(card) {\n\t\treturn axios.put(this.url(`/cards/${card.id}/undone`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tassignLabelToCard(data) {\n\t\treturn axios.post(this.url(`/cards/${data.card.id}/label/${data.labelId}`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tremoveLabelFromCard(data) {\n\t\treturn axios.delete(this.url(`/cards/${data.card.id}/label/${data.labelId}`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.attachments-drag-zone[data-v-0d4a7a97]{flex-grow:1;position:relative}.attachments-drag-zone.drop-upload--sidebar[data-v-0d4a7a97]{display:flex;flex-direction:column;flex-basis:100%}.dragover[data-v-0d4a7a97]{position:absolute;background:var(--color-primary-element-light);z-index:11;display:flex;border-radius:var(--border-radius);opacity:.9;margin:auto}.dragover .drop-hint[data-v-0d4a7a97]{width:100%;display:flex;flex-direction:column;justify-content:center}.dragover .drop-hint__icon[data-v-0d4a7a97]{background-size:32px;background-position:center center;height:48px;margin-bottom:16px}.dragover .drop-hint__text[data-v-0d4a7a97]{line-height:125%;text-align:center}.drop-upload--sidebar .dragover[data-v-0d4a7a97]{top:20%;left:10%;width:80%;height:60%;box-shadow:0px 0px 36px var(--color-box-shadow)}.drop-upload--card .dragover[data-v-0d4a7a97]{border:0;width:100%;height:100%;top:0;left:0}.drop-upload--card .dragover h2[data-v-0d4a7a97]{font-size:13px;margin:0}.drop-upload--card .dragover .drop-hint__icon[data-v-0d4a7a97]{margin:0;background-size:16px;height:16px}.fade-enter[data-v-0d4a7a97]{opacity:0}.fade-enter-to[data-v-0d4a7a97]{opacity:.9}.fade-leave[data-v-0d4a7a97]{opacity:.9}.fade-leave-to[data-v-0d4a7a97]{opacity:0}.fade-enter-active[data-v-0d4a7a97],.fade-leave-active[data-v-0d4a7a97]{transition:opacity 150ms ease-in-out}.modal__content[data-v-0d4a7a97]{width:25vw;min-width:250px;height:120px;text-align:center;margin:20px 20px 60px 20px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/AttachmentDragAndDrop.vue\"],\"names\":[],\"mappings\":\"AAEA,wCACC,WAAA,CACA,iBAAA,CAGD,6DACC,YAAA,CACA,qBAAA,CACA,eAAA,CAGD,2BACC,iBAAA,CACA,6CAAA,CACA,UAAA,CACA,YAAA,CACA,kCAAA,CACA,UAAA,CACA,WAAA,CAEA,sCACC,UAAA,CACA,YAAA,CACA,qBAAA,CACA,sBAAA,CAEA,4CACC,oBAAA,CACA,iCAAA,CACA,WAAA,CACA,kBAAA,CAGD,4CACC,gBAAA,CACA,iBAAA,CAKH,iDACC,OAAA,CACA,QAAA,CACA,SAAA,CACA,UAAA,CACA,+CAAA,CAGD,8CACC,QAAA,CACA,UAAA,CACA,WAAA,CACA,KAAA,CACA,MAAA,CAEA,iDACC,cAAA,CACA,QAAA,CAGD,+DACC,QAAA,CACA,oBAAA,CACA,WAAA,CAKD,6BACC,SAAA,CAED,gCACC,UAAA,CAED,6BACC,UAAA,CAED,gCACC,SAAA,CAED,wEAEC,oCAAA,CAIF,iCACC,UAAA,CACA,eAAA,CACA,YAAA,CACA,iBAAA,CACA,0BAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.selector-wrapper[data-v-685e6890]{display:flex;max-width:100%;margin-top:10px}.selector-wrapper--icon[data-v-685e6890]{width:var(--default-clickable-area);height:var(--default-clickable-area);flex-shrink:0;display:flex;align-items:center;align-content:center;justify-content:center}.selector-wrapper--selector[data-v-685e6890]{width:100%}.selector-wrapper--content[data-v-685e6890]{display:flex;flex-grow:1;align-items:center}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/selector.scss\"],\"names\":[],\"mappings\":\"AAKA,mCACC,YAAA,CACA,cAAA,CACA,eAAA,CAEA,yCACC,mCAAA,CACA,oCAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,oBAAA,CACA,sBAAA,CAGD,6CACC,UAAA,CAGD,4CACC,YAAA,CACA,WAAA,CACA,kBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.drop-upload--sidebar[data-v-d2296a80]{min-height:100%}.button-group[data-v-d2296a80]{display:flex;gap:calc(var(--default-grid-baseline)*3)}.button-group .icon-upload[data-v-d2296a80],.button-group .icon-folder[data-v-d2296a80]{padding-left:var(--default-clickable-area);background-position:16px center;flex-grow:1;height:var(--default-clickable-area);margin-bottom:12px;text-align:left}.attachment-list.selector[data-v-d2296a80]{padding:10px;position:absolute;width:30%;max-width:500px;min-width:200px;max-height:50%;top:50%;left:50%;transform:translate(-50%, -50%);background-color:#eee;z-index:2;border-radius:3px;box-shadow:0 0 3px #a9a9a9;overflow:scroll}.attachment-list h3.attachment-selector[data-v-d2296a80]{margin:0 0 10px;padding:0}.attachment-list h3.attachment-selector .icon-close[data-v-d2296a80]{display:inline-block;float:right}.attachment-list li.attachment[data-v-d2296a80]{display:flex;padding:3px;min-height:var(--default-clickable-area)}.attachment-list li.attachment.deleted[data-v-d2296a80]{opacity:.5}.attachment-list li.attachment .fileicon[data-v-d2296a80]{display:inline-block;min-width:32px;width:32px;height:32px;background-size:contain}.attachment-list li.attachment .details[data-v-d2296a80]{flex-grow:1;flex-shrink:1;min-width:0;flex-basis:50%;line-height:110%;padding:2px}.attachment-list li.attachment .filename[data-v-d2296a80]{width:70%;display:flex}.attachment-list li.attachment .filename .basename[data-v-d2296a80]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-bottom:2px}.attachment-list li.attachment .filename .extension[data-v-d2296a80]{opacity:.7}.attachment-list li.attachment .attachment--info[data-v-d2296a80],.attachment-list li.attachment .filesize[data-v-d2296a80],.attachment-list li.attachment .filedate[data-v-d2296a80]{font-size:90%;color:var(--color-text-maxcontrast)}.attachment-list li.attachment .app-popover-menu-utils[data-v-d2296a80]{position:relative;right:-10px}.attachment-list li.attachment .app-popover-menu-utils button[data-v-d2296a80]{height:32px;width:42px}.attachment-list li.attachment button.icon-history[data-v-d2296a80]{width:var(--default-clickable-area)}.attachment-list li.attachment progress[data-v-d2296a80]{margin-top:3px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/card/AttachmentList.vue\"],\"names\":[],\"mappings\":\"AAEA,uCACC,eAAA,CAGD,+BACC,YAAA,CACA,wCAAA,CAEA,wFACC,0CAAA,CACA,+BAAA,CACA,WAAA,CACA,oCAAA,CACA,kBAAA,CACA,eAAA,CAKD,2CACC,YAAA,CACA,iBAAA,CACA,SAAA,CACA,eAAA,CACA,eAAA,CACA,cAAA,CACA,OAAA,CACA,QAAA,CACA,+BAAA,CACA,qBAAA,CACA,SAAA,CACA,iBAAA,CACA,0BAAA,CACA,eAAA,CAED,yDACC,eAAA,CACA,SAAA,CACA,qEACC,oBAAA,CACA,WAAA,CAIF,gDACC,YAAA,CACA,WAAA,CACA,wCAAA,CAEA,wDACC,UAAA,CAGD,0DACC,oBAAA,CACA,cAAA,CACA,UAAA,CACA,WAAA,CACA,uBAAA,CAED,yDACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,cAAA,CACA,gBAAA,CACA,WAAA,CAED,0DACC,SAAA,CACA,YAAA,CACA,oEACC,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CAED,qEACC,UAAA,CAGF,sLAEC,aAAA,CACA,mCAAA,CAED,wEACC,iBAAA,CACA,WAAA,CACA,+EACC,WAAA,CACA,UAAA,CAGF,oEACC,mCAAA,CAED,yDACC,cAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.selector-wrapper{display:flex;max-width:100%;margin-top:10px}.selector-wrapper--icon{width:var(--default-clickable-area);height:var(--default-clickable-area);flex-shrink:0;display:flex;align-items:center;align-content:center;justify-content:center}.selector-wrapper--selector{width:100%}.selector-wrapper--content{display:flex;flex-grow:1;align-items:center}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/selector.scss\"],\"names\":[],\"mappings\":\"AAKA,kBACC,YAAA,CACA,cAAA,CACA,eAAA,CAEA,wBACC,mCAAA,CACA,oCAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,oBAAA,CACA,sBAAA,CAGD,4BACC,UAAA,CAGD,2BACC,YAAA,CACA,WAAA,CACA,kBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.modal__content[data-v-70a91332]{width:25vw;min-width:250px;min-height:120px;margin:20px;padding-bottom:20px;display:flex;flex-direction:column}.modal__content[data-v-70a91332] .attachment-list{flex-shrink:1}.placeholder[data-v-70a91332]{color:var(--color-text-maxcontrast);padding:2px}#description-preview[data-v-70a91332]{min-height:100px;width:auto;overflow-x:auto}#description-preview[data-v-70a91332]{/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */}#description-preview[data-v-70a91332] p{margin-bottom:15px}#description-preview[data-v-70a91332] *{white-space:normal;word-wrap:break-word;overflow-wrap:break-word}#description-preview[data-v-70a91332] a{opacity:.5;text-decoration:underline}#description-preview[data-v-70a91332] ol,#description-preview[data-v-70a91332] ul{margin-left:20px;margin-bottom:10px}#description-preview[data-v-70a91332] ul{list-style-type:disc}#description-preview[data-v-70a91332] ul .task-list-item{margin-left:-20px;list-style-type:none}#description-preview[data-v-70a91332] ul .task-list-item ul{padding-left:20px}#description-preview[data-v-70a91332] h1{font-size:18px;font-weight:600;margin-bottom:5px}#description-preview[data-v-70a91332] h2{font-size:16px;font-weight:600}#description-preview[data-v-70a91332] h3{font-size:14px;font-weight:600}#description-preview[data-v-70a91332] h4{font-size:13px;font-weight:600}#description-preview[data-v-70a91332] h6{font-size:12px;font-weight:600}#description-preview[data-v-70a91332] pre{background-color:var(--color-background-dark);padding:3px;overflow:auto}#description-preview[data-v-70a91332] pre code{white-space:pre}#description-preview[data-v-70a91332] img{max-width:100%;max-height:50vh;margin:auto;display:block}#description-preview[data-v-70a91332] input[type=checkbox]{margin:0px 3px 0px 0px;line-height:10px;font-size:10px;display:inline-block;min-height:12px}#description-preview[data-v-70a91332] li input[type=checkbox].checkbox+label::before{margin-left:-15px}#description-preview[data-v-70a91332] input[type=checkbox].checkbox+label::before{position:relative;z-index:100;margin-right:10px;margin-top:0}#description-preview[data-v-70a91332] li input[type=checkbox].checkbox:not(:checked)+label::before{background-color:var(--color-main-background)}#description-preview[data-v-70a91332] table{margin-bottom:10px;border-collapse:collapse}#description-preview[data-v-70a91332] table thead{background-color:var(--color-background-dark)}#description-preview[data-v-70a91332] table td,#description-preview[data-v-70a91332] table th{border:1px solid var(--color-background-darker);padding:3px}#description-preview[data-v-70a91332] blockquote{padding-left:10px;border-left:3px solid var(--color-border-dark);color:var(--color-text-lighter)}#description-preview[data-v-70a91332] input{height:auto}#description-preview[data-v-70a91332] a{text-decoration:underline}h5[data-v-70a91332]{border-bottom:1px solid var(--color-border);margin-top:20px;margin-bottom:5px;color:var(--color-text-maxcontrast)}h5 .icon-info[data-v-70a91332]{display:inline-block;width:32px;height:16px;float:right;opacity:.7}h5 .icon-attach[data-v-70a91332]{background-size:16px;float:right;margin-top:-14px;opacity:.7}h5 .icon-toggle[data-v-70a91332],h5 .icon-rename[data-v-70a91332]{float:right;margin-top:-14px}.description__text[data-v-70a91332] .ProseMirror{padding-bottom:var(--default-clickable-area)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/card/Description.vue\",\"webpack://./src/css/markdown.scss\"],\"names\":[],\"mappings\":\"AAEA,iCACC,UAAA,CACA,eAAA,CACA,gBAAA,CACA,WAAA,CACA,mBAAA,CACA,YAAA,CACA,qBAAA,CAEA,kDACC,aAAA,CAIF,8BACC,mCAAA,CACA,WAAA,CAGD,sCACC,gBAAA,CACA,UAAA,CACA,eAAA,CAEA,sCC1BD;;;EAAA,CAAA,CAIA,wCACC,kBAAA,CAGD,wCACC,kBAAA,CACA,oBAAA,CACA,wBAAA,CAGD,wCACC,UAAA,CACA,yBAAA,CAGD,kFAEC,gBAAA,CACA,kBAAA,CAGD,yCACC,oBAAA,CAEA,yDACC,iBAAA,CACA,oBAAA,CAEA,4DACC,iBAAA,CAKH,yCACC,cAAA,CACA,eAAA,CACA,iBAAA,CAGD,yCACC,cAAA,CACA,eAAA,CAGD,yCACC,cAAA,CACA,eAAA,CAGD,yCACC,cAAA,CACA,eAAA,CAGD,yCACC,cAAA,CACA,eAAA,CAGD,0CACC,6CAAA,CACA,WAAA,CACA,aAAA,CAEA,+CACC,eAAA,CAIF,0CACC,cAAA,CACA,eAAA,CACA,WAAA,CACA,aAAA,CAGD,2DACC,sBAAA,CACA,gBAAA,CACA,cAAA,CACA,oBAAA,CACA,eAAA,CAGD,qFACC,iBAAA,CAID,kFACC,iBAAA,CACA,WAAA,CACA,iBAAA,CACA,YAAA,CAGD,mGACC,6CAAA,CAGD,4CACC,kBAAA,CACA,wBAAA,CAEA,kDACC,6CAAA,CAED,8FACC,+CAAA,CACA,WAAA,CAIF,iDACC,iBAAA,CACA,8CAAA,CACA,+BAAA,CD1FA,4CACC,WAAA,CAGD,wCACC,yBAAA,CAIF,oBACC,2CAAA,CACA,eAAA,CACA,iBAAA,CACA,mCAAA,CAEA,+BACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,UAAA,CAGD,iCACC,oBAAA,CACA,WAAA,CACA,gBAAA,CACA,UAAA,CAGD,kEACC,WAAA,CACA,gBAAA,CAIF,iDACC,4CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.done-info[data-v-493713fc]{flex-grow:1}.done-info--duedate[data-v-493713fc],.done-info--done[data-v-493713fc]{display:flex}.done-info--duedate.dimmed[data-v-493713fc],.done-info--done.dimmed[data-v-493713fc]{color:var(--color-text-maxcontrast)}.completed-button[data-v-493713fc]{margin-left:auto}.due-actions[data-v-493713fc]{display:flex;align-items:flex-start}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/card/DueDateSelector.vue\"],\"names\":[],\"mappings\":\"AACA,4BACC,WAAA,CAGD,uEAEC,YAAA,CACA,qFACC,mCAAA,CAIF,mCACC,gBAAA,CAGD,8BACC,YAAA,CACA,sBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.selector-wrapper[data-v-61060951]{display:flex;max-width:100%;margin-top:10px}.selector-wrapper--icon[data-v-61060951]{width:var(--default-clickable-area);height:var(--default-clickable-area);flex-shrink:0;display:flex;align-items:center;align-content:center;justify-content:center}.selector-wrapper--selector[data-v-61060951]{width:100%}.selector-wrapper--content[data-v-61060951]{display:flex;flex-grow:1;align-items:center}.v-select[data-v-61060951] .vs__selected{padding-left:0 !important}.tag[data-v-61060951]{flex-grow:0;flex-shrink:1;overflow:hidden;padding:3px 12px;display:inline-block;border-radius:var(--border-radius-pill);margin-right:3px;white-space:nowrap;text-overflow:ellipsis}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/selector.scss\",\"webpack://./src/components/card/TagSelector.vue\"],\"names\":[],\"mappings\":\"AAKA,mCACC,YAAA,CACA,cAAA,CACA,eAAA,CAEA,yCACC,mCAAA,CACA,oCAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,oBAAA,CACA,sBAAA,CAGD,6CACC,UAAA,CAGD,4CACC,YAAA,CACA,WAAA,CACA,kBAAA,CCxBF,yCACC,yBAAA,CAGD,sBACC,WAAA,CACA,aAAA,CACA,eAAA,CACA,gBAAA,CACA,oBAAA,CACA,uCAAA,CACA,gBAAA,CACA,kBAAA,CACA,sBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.selector-wrapper[data-v-46d71c0e]{display:flex;max-width:100%;margin-top:10px}.selector-wrapper--icon[data-v-46d71c0e]{width:var(--default-clickable-area);height:var(--default-clickable-area);flex-shrink:0;display:flex;align-items:center;align-content:center;justify-content:center}.selector-wrapper--selector[data-v-46d71c0e]{width:100%}.selector-wrapper--content[data-v-46d71c0e]{display:flex;flex-grow:1;align-items:center}.modal-scroller[data-v-46d71c0e]{overflow:scroll;max-height:calc(80vh - 40px);width:calc(100% - 24px);padding:12px}#modal-inner[data-v-46d71c0e]{width:auto;margin-left:10px;margin-right:10px}h2[data-v-46d71c0e]{text-align:center}.card-title[data-v-46d71c0e]{width:100%}.board-bullet[data-v-46d71c0e]{display:inline-block;width:12px;height:12px;border:none;border-radius:50%;cursor:pointer}.modal-buttons[data-v-46d71c0e]{display:flex;justify-content:flex-end;position:sticky;bottom:0;z-index:10100;gap:12px}.v-select[data-v-46d71c0e]{min-width:auto !important}.empty-content[data-v-46d71c0e]{margin-top:5vh !important}.empty-content[data-v-46d71c0e] h2{margin-bottom:5vh}.row[data-v-46d71c0e]{display:flex;gap:12px}.row .col[data-v-46d71c0e]{display:flex;width:50%}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/selector.scss\",\"webpack://./src/views/CreateNewCardCustomPicker.vue\"],\"names\":[],\"mappings\":\"AAKA,mCACC,YAAA,CACA,cAAA,CACA,eAAA,CAEA,yCACC,mCAAA,CACA,oCAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,oBAAA,CACA,sBAAA,CAGD,6CACC,UAAA,CAGD,4CACC,YAAA,CACA,WAAA,CACA,kBAAA,CCxBF,iCACC,eAAA,CACA,4BAAA,CACA,uBAAA,CACA,YAAA,CAGD,8BACC,UAAA,CACA,gBAAA,CACA,iBAAA,CAGD,oBACC,iBAAA,CAGD,6BACC,UAAA,CAGD,+BACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,cAAA,CAGD,gCACC,YAAA,CACA,wBAAA,CACA,eAAA,CACA,QAAA,CACA,aAAA,CACA,QAAA,CAGD,2BACC,yBAAA,CAGD,gCACC,yBAAA,CAEA,mCACC,iBAAA,CAIF,sBACC,YAAA,CACA,QAAA,CAEA,2BACC,YAAA,CACA,SAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/easymde/dist/easymde.min.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.vue-easymde, .CodeMirror {\n\tborder: none;\n\tmargin: 0;\n\tpadding: 0;\n\tbackground-color: var(--color-main-background);\n\tcolor: var(--color-main-text);\n\twidth: 100%;\n}\n.CodeMirror-placeholder {\n\tcolor: var(--color-text-maxcontrast);\n}\n.CodeMirror-cursor {\n\tborder-left: 1px solid var(--color-main-text);\n}\n.CodeMirror-selected,\n.CodeMirror-line::selection, .CodeMirror-line>span::selection, .CodeMirror-line>span>span::selection {\n\tbackground: var(--color-primary-element) !important;\n\tcolor: var(--color-primary-element-text) !important;\n}\n.editor-preview,\n.editor-statusbar {\n\tdisplay: none;\n}\n#app-sidebar .app-sidebar-header__desc h4 {\n\tfont-size: 12px !important;\n}\n.vue-easymde .cm-s-easymde .cm-link {\n\tcolor: var(--color-main-text);\n}\n.vue-easymde .cm-s-easymde .cm-string.cm-url,\n.vue-easymde .cm-s-easymde .cm-formatting.cm-link,\n.vue-easymde .cm-s-easymde .cm-formatting.cm-url,\n.vue-easymde .cm-s-easymde .cm-formatting.cm-image {\n\tcolor: var(--color-text-maxcontrast);\n}\n.app-sidebar__tab .description__text .text-menubar {\n\ttop: -10px !important;\n\tz-index: 1;\n}\n.modal__card .description__text .text-menubar {\n\ttop: 0;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/card/Description.vue\"],\"names\":[],\"mappings\":\";AAgZA;CACA,YAAA;CACA,SAAA;CACA,UAAA;CACA,8CAAA;CACA,6BAAA;CACA,WAAA;AACA;AAEA;CACA,oCAAA;AACA;AAEA;CACA,6CAAA;AACA;AAEA;;CAEA,mDAAA;CACA,mDAAA;AACA;AAEA;;CAEA,aAAA;AACA;AAEA;CACA,0BAAA;AACA;AAEA;CACA,6BAAA;AACA;AAEA;;;;CAIA,oCAAA;AACA;AAEA;CACA,qBAAA;CACA,UAAA;AACA;AAEA;CACA,MAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n\\n<template>\\n\\t<div data-test=\\\"description\\\">\\n\\t\\t<h5>\\n\\t\\t\\t{{ t('deck', 'Description') }}\\n\\t\\t\\t<span v-if=\\\"descriptionLastEdit && !descriptionSaving\\\">{{ t('deck', '(Unsaved)') }}</span>\\n\\t\\t\\t<span v-if=\\\"descriptionSaving\\\">{{ t('deck', '(Saving…)') }}</span>\\n\\t\\t\\t<a v-if=\\\"!textAppAvailable\\\"\\n\\t\\t\\t\\t:title=\\\"t('deck', 'Formatting help')\\\"\\n\\t\\t\\t\\thref=\\\"https://deck.readthedocs.io/en/latest/Markdown/\\\"\\n\\t\\t\\t\\ttarget=\\\"_blank\\\"\\n\\t\\t\\t\\tclass=\\\"icon icon-info\\\" />\\n\\t\\t\\t<NcActions v-if=\\\"!textAppAvailable && canEdit\\\">\\n\\t\\t\\t\\t<NcActionButton v-if=\\\"!descriptionEditing\\\" icon=\\\"icon-rename\\\" @click=\\\"showEditor()\\\">\\n\\t\\t\\t\\t\\t{{ t('deck', 'Edit description') }}\\n\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t<NcActionButton v-else icon=\\\"icon-toggle\\\" @click=\\\"hideEditor()\\\">\\n\\t\\t\\t\\t\\t{{ t('deck', 'View description') }}\\n\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t</NcActions>\\n\\t\\t\\t<NcActions v-if=\\\"canEdit && !!card.id\\\">\\n\\t\\t\\t\\t<NcActionButton v-if=\\\"descriptionEditing\\\" @click=\\\"showAttachmentModal()\\\">\\n\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t<PaperclipIcon :size=\\\"24\\\" decorative />\\n\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t{{ t('deck', 'Add Attachment') }}\\n\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t</NcActions>\\n\\t\\t</h5>\\n\\n\\t\\t<div v-if=\\\"textAppAvailable\\\" class=\\\"description__text\\\">\\n\\t\\t\\t<div ref=\\\"editor\\\" />\\n\\t\\t</div>\\n\\t\\t<template v-else>\\n\\t\\t\\t<div v-if=\\\"!descriptionEditing && hasDescription\\\"\\n\\t\\t\\t\\tid=\\\"description-preview\\\"\\n\\t\\t\\t\\tdir=\\\"auto\\\"\\n\\t\\t\\t\\t@click=\\\"clickedPreview\\\"\\n\\t\\t\\t\\tv-html=\\\"renderedDescription\\\" />\\n\\t\\t\\t<p v-else-if=\\\"!descriptionEditing\\\" class=\\\"placeholder\\\" @click=\\\"showEditor()\\\">\\n\\t\\t\\t\\t{{ t('deck', 'Write a description …') }}\\n\\t\\t\\t</p>\\n\\t\\t\\t<VueEasymde v-else\\n\\t\\t\\t\\t:key=\\\"card.id\\\"\\n\\t\\t\\t\\tref=\\\"markdownEditor\\\"\\n\\t\\t\\t\\tv-model=\\\"description\\\"\\n\\t\\t\\t\\t:configs=\\\"mdeConfig\\\"\\n\\t\\t\\t\\t@initialized=\\\"addKeyListeners\\\"\\n\\t\\t\\t\\t@update:modelValue=\\\"updateDescription\\\"\\n\\t\\t\\t\\t@blur=\\\"saveDescription\\\" />\\n\\t\\t</template>\\n\\n\\t\\t<NcModal v-if=\\\"modalShow && !!card.id\\\" :title=\\\"t('deck', 'Choose attachment')\\\" @close=\\\"modalShow=false\\\">\\n\\t\\t\\t<div class=\\\"modal__content\\\">\\n\\t\\t\\t\\t<h3>{{ t('deck', 'Choose attachment') }}</h3>\\n\\t\\t\\t\\t<AttachmentList :card-id=\\\"card.id\\\"\\n\\t\\t\\t\\t\\t:selectable=\\\"true\\\"\\n\\t\\t\\t\\t\\t@select-attachment=\\\"addAttachment\\\" />\\n\\t\\t\\t</div>\\n\\t\\t</NcModal>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport MarkdownIt from 'markdown-it'\\nimport MarkdownItTaskCheckbox from 'markdown-it-task-checkbox'\\nimport MarkdownItLinkAttributes from 'markdown-it-link-attributes'\\nimport AttachmentList from './AttachmentList.vue'\\nimport { NcActions, NcActionButton, NcModal } from '@nextcloud/vue'\\nimport { formatFileSize } from '@nextcloud/files'\\nimport { generateUrl } from '@nextcloud/router'\\nimport { showWarning } from '@nextcloud/dialogs'\\nimport PaperclipIcon from 'vue-material-design-icons/Paperclip.vue'\\nimport { mapState } from 'vuex'\\n\\nconst markdownIt = new MarkdownIt({\\n\\tlinkify: true,\\n})\\nmarkdownIt.use(MarkdownItTaskCheckbox, { disabled: false, idPrefix: 'task-item-', ulClass: 'contains-task-list' })\\n\\nmarkdownIt.use(MarkdownItLinkAttributes, {\\n\\tattrs: {\\n\\t\\ttarget: '_blank',\\n\\t\\trel: 'noreferrer noopener',\\n\\t},\\n})\\n\\nexport default {\\n\\tname: 'Description',\\n\\tcomponents: {\\n\\t\\tVueEasymde: () => import('vue-easymde/dist/VueEasyMDE.common.js'),\\n\\t\\tNcActions,\\n\\t\\tNcActionButton,\\n\\t\\tNcModal,\\n\\t\\tAttachmentList,\\n\\t\\tPaperclipIcon,\\n\\t},\\n\\tprops: {\\n\\t\\tcard: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\tdefault: null,\\n\\t\\t},\\n\\t\\tcanEdit: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: true,\\n\\t\\t},\\n\\t\\tshowAttachments: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\ttextAppAvailable: !!window.OCA?.Text?.createEditor,\\n\\t\\t\\teditor: null,\\n\\t\\t\\tkeyExitState: 0,\\n\\t\\t\\tdescription: '',\\n\\t\\t\\tmarkdownIt: null,\\n\\t\\t\\tdescriptionEditing: false,\\n\\t\\t\\tmdeConfig: {\\n\\t\\t\\t\\tautoDownloadFontAwesome: false,\\n\\t\\t\\t\\tspellChecker: false,\\n\\t\\t\\t\\tautofocus: true,\\n\\t\\t\\t\\tautosave: { enabled: false, uniqueId: 'unique' },\\n\\t\\t\\t\\ttoolbar: false,\\n\\t\\t\\t\\tplaceholder: t('deck', 'Write a description …'),\\n\\t\\t\\t\\tpreviewImagesInEditor: false,\\n\\t\\t\\t},\\n\\t\\t\\tdescriptionSaveTimeout: null,\\n\\t\\t\\tdescriptionSaving: false,\\n\\t\\t\\tdescriptionLastEdit: 0,\\n\\t\\t\\tmodalShow: false,\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\t...mapState({\\n\\t\\t\\thasCardSaveError: (state) => state.hasCardSaveError,\\n\\t\\t}),\\n\\t\\tmimetypeForAttachment() {\\n\\t\\t\\treturn (mimetype) => {\\n\\t\\t\\t\\tconst url = OC.MimeType.getIconUrl(mimetype)\\n\\t\\t\\t\\tconst styles = {\\n\\t\\t\\t\\t\\t'background-image': `url(\\\"${url}\\\")`,\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn styles\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tattachmentUrl() {\\n\\t\\t\\treturn (attachment) => {\\n\\t\\t\\t\\tif (attachment.extendedData.fileid) {\\n\\t\\t\\t\\t\\treturn generateUrl('/f/' + attachment.extendedData.fileid)\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn generateUrl(`/apps/deck/cards/${attachment.cardId}/attachment/${attachment.id}`)\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tattachmentPreview() {\\n\\t\\t\\treturn (attachment) => (attachment.extendedData.fileid\\n\\t\\t\\t\\t? generateUrl(`/core/preview?fileId=${attachment.extendedData.fileid}&x=600&y=600&a=true`)\\n\\t\\t\\t\\t: generateUrl(`/apps/deck/cards/${attachment.cardId}/attachment/${attachment.id}`))\\n\\t\\t},\\n\\t\\tformattedFileSize() {\\n\\t\\t\\treturn (filesize) => formatFileSize(filesize)\\n\\t\\t},\\n\\t\\trenderedDescription() {\\n\\t\\t\\treturn markdownIt.render(this.card.description || '')\\n\\t\\t},\\n\\t\\thasDescription() {\\n\\t\\t\\treturn this.card?.description?.trim?.() !== ''\\n\\t\\t},\\n\\t},\\n\\tmounted() {\\n\\t\\tthis.setupEditor()\\n\\t},\\n\\tasync beforeDestroy() {\\n\\t\\tawait this.destroyEditor()\\n\\t},\\n\\tmethods: {\\n\\t\\tasync setupEditor() {\\n\\t\\t\\tawait this.destroyEditor()\\n\\t\\t\\tthis.descriptionLastEdit = 0\\n\\t\\t\\tthis.description = this.card.description\\n\\t\\t\\tthis.editor = await window.OCA.Text.createEditor({\\n\\t\\t\\t\\tel: this.$refs.editor,\\n\\t\\t\\t\\tcontent: this.card.description,\\n\\t\\t\\t\\treadOnly: !this.canEdit,\\n\\t\\t\\t\\tonLoaded: () => {\\n\\t\\t\\t\\t\\tthis.descriptionLastEdit = 0\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tonUpdate: ({ markdown }) => {\\n\\t\\t\\t\\t\\tif (this.description === markdown) {\\n\\t\\t\\t\\t\\t\\treturn\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis.description = markdown\\n\\t\\t\\t\\t\\tthis.updateDescription()\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tonFileInsert: () => {\\n\\t\\t\\t\\t\\tthis.showAttachmentModal()\\n\\t\\t\\t\\t},\\n\\t\\t\\t})\\n\\n\\t\\t},\\n\\t\\tasync destroyEditor() {\\n\\t\\t\\tawait this.saveDescription()\\n\\t\\t\\tthis?.editor?.destroy()\\n\\t\\t},\\n\\t\\taddKeyListeners() {\\n\\t\\t\\tthis.$refs.markdownEditor.easymde.codemirror.on('keydown', (a, b) => {\\n\\t\\t\\t\\tif (this.keyExitState === 0 && (b.key === 'Meta' || b.key === 'Alt')) {\\n\\t\\t\\t\\t\\tthis.keyExitState = 1\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (this.keyExitState === 1 && b.key === 'Enter') {\\n\\t\\t\\t\\t\\tthis.keyExitState = 0\\n\\t\\t\\t\\t\\tthis.$refs.markdownEditor.easymde.codemirror.off('keydown', undefined)\\n\\t\\t\\t\\t\\tthis.$refs.markdownEditor.easymde.codemirror.off('keyup', undefined)\\n\\t\\t\\t\\t\\tthis.hideEditor()\\n\\t\\t\\t\\t}\\n\\t\\t\\t})\\n\\t\\t\\tthis.$refs.markdownEditor.easymde.codemirror.on('keyup', (a, b) => {\\n\\t\\t\\t\\tif (b.key === 'Meta' || b.key === 'Control') {\\n\\t\\t\\t\\t\\tthis.keyExitState = 0\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tshowEditor() {\\n\\t\\t\\tif (!this.canEdit) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\tthis.descriptionEditing = true\\n\\t\\t\\tthis.description = this.card.description\\n\\n\\t\\t},\\n\\t\\thideEditor() {\\n\\t\\t\\tthis.$refs.markdownEditor.easymde.codemirror.off('keydown', undefined)\\n\\t\\t\\tthis.$refs.markdownEditor.easymde.codemirror.off('keyup', undefined)\\n\\t\\t\\tthis.descriptionEditing = false\\n\\t\\t},\\n\\t\\tshowAttachmentModal() {\\n\\t\\t\\tthis.modalShow = true\\n\\t\\t},\\n\\t\\taddAttachment(attachment) {\\n\\t\\t\\tconst asImage = (attachment.type === 'file' && attachment.extendedData.hasPreview) || attachment.extendedData.mimetype.includes('image')\\n\\t\\t\\t// We need to strip those as text does not support rtl yet, so we cannot insert them separately\\n\\t\\t\\tconst stripRTLO = (text) => text.replaceAll('\\\\u202e', '')\\n\\t\\t\\tconst fileName = stripRTLO(attachment.extendedData.info.filename) + '.' + stripRTLO(attachment.extendedData.info.extension)\\n\\t\\t\\tif (this.editor) {\\n\\t\\t\\t\\tthis.editor.insertAtCursor(\\n\\t\\t\\t\\t\\tasImage\\n\\t\\t\\t\\t\\t\\t? `<a href=\\\"${this.attachmentPreview(attachment)}\\\"><img src=\\\"${this.attachmentPreview(attachment)}\\\" alt=\\\"${attachment.data}\\\" /></a>`\\n\\t\\t\\t\\t\\t\\t: `<a href=\\\"${this.attachmentPreview(attachment)}\\\">${fileName}</a>`,\\n\\t\\t\\t\\t)\\n\\t\\t\\t\\treturn\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tconst attachmentString = (asImage ? '!' : '') + '[📎 ' + fileName + '](' + this.attachmentPreview(attachment) + ')'\\n\\t\\t\\t\\tconst descString = this.$refs.markdownEditor.easymde.value()\\n\\t\\t\\t\\tconst newContent = descString + '\\\\n' + attachmentString\\n\\t\\t\\t\\tthis.$refs.markdownEditor.easymde.value(newContent)\\n\\t\\t\\t\\tthis.description = newContent\\n\\t\\t\\t}\\n\\t\\t\\tthis.updateDescription()\\n\\t\\t\\tthis.modalShow = false\\n\\t\\t},\\n\\t\\tclickedPreview(e) {\\n\\t\\t\\tif (e.target.getAttribute('type') === 'checkbox') {\\n\\t\\t\\t\\tconst clickedIndex = [...document.querySelector('#description-preview').querySelectorAll('input')].findIndex((li) => li.id === e.target.id)\\n\\t\\t\\t\\tconst reg = /\\\\[(X|\\\\s|_|-)\\\\]/ig\\n\\t\\t\\t\\tlet nth = 0\\n\\t\\t\\t\\tconst updatedDescription = this.card.description.replace(reg, (match, i, original) => {\\n\\t\\t\\t\\t\\tlet result = match\\n\\t\\t\\t\\t\\tif ('' + nth++ === '' + clickedIndex) {\\n\\t\\t\\t\\t\\t\\tif (match.match(/^\\\\[\\\\s\\\\]/i)) {\\n\\t\\t\\t\\t\\t\\t\\tresult = match.replace(/\\\\[\\\\s\\\\]/i, '[x]')\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tif (match.match(/^\\\\[x\\\\]/i)) {\\n\\t\\t\\t\\t\\t\\t\\tresult = match.replace(/\\\\[x\\\\]/i, '[ ]')\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\treturn result\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn match\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\tthis.$emit('change', updatedDescription)\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tasync saveDescription() {\\n\\t\\t\\tif (this.descriptionLastEdit === 0 || this.descriptionSaving) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\tthis.descriptionSaving = true\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tif (this.card.id !== undefined) {\\n\\t\\t\\t\\t\\tawait this.$store.dispatch('updateCardDesc', { ...this.card, description: this.description })\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tthis.$emit('change', this.description)\\n\\t\\t\\t\\tthis.descriptionLastEdit = 0\\n\\t\\t\\t\\tthis.$store.commit('setHasCardSaveError', false)\\n\\t\\t\\t} catch (e) {\\n\\t\\t\\t\\tthis.$store.commit('setHasCardSaveError', true)\\n\\t\\t\\t\\tshowWarning(t('deck', 'Could not save description'), { timeout: 2500 })\\n\\t\\t\\t\\tconsole.error(e)\\n\\n\\t\\t\\t\\t// Retry of network error\\n\\t\\t\\t\\tif (['ERR_NETWORK', 'ETIMEDOUT'].includes(e.code)) {\\n\\t\\t\\t\\t\\tthis.setSaveTimeout()\\n\\t\\t\\t\\t}\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tthis.descriptionSaving = false\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tupdateDescription() {\\n\\t\\t\\tthis.descriptionLastEdit = Date.now()\\n\\t\\t\\tthis.setSaveTimeout()\\n\\t\\t},\\n\\t\\tsetSaveTimeout() {\\n\\t\\t\\tclearTimeout(this.descriptionSaveTimeout)\\n\\t\\t\\tthis.descriptionSaveTimeout = setTimeout(async () => {\\n\\t\\t\\t\\tawait this.saveDescription()\\n\\t\\t\\t}, 2500)\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n<style lang=\\\"scss\\\" scoped>\\n\\n.modal__content {\\n\\twidth: 25vw;\\n\\tmin-width: 250px;\\n\\tmin-height: 120px;\\n\\tmargin: 20px;\\n\\tpadding-bottom: 20px;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\n\\t&:deep(.attachment-list) {\\n\\t\\tflex-shrink: 1;\\n\\t}\\n}\\n\\n.placeholder {\\n\\tcolor: var(--color-text-maxcontrast);\\n\\tpadding: 2px;\\n}\\n\\n#description-preview {\\n\\tmin-height: 100px;\\n\\twidth: auto;\\n\\toverflow-x: auto;\\n\\n\\t&:deep {\\n\\t\\t/* stylelint-disable-next-line no-invalid-position-at-import-rule */\\n\\t\\t@import './../../css/markdown';\\n\\t}\\n\\n\\t&:deep(input) {\\n\\t\\theight: auto;\\n\\t}\\n\\n\\t&:deep(a) {\\n\\t\\ttext-decoration: underline;\\n\\t}\\n}\\n\\nh5 {\\n\\tborder-bottom: 1px solid var(--color-border);\\n\\tmargin-top: 20px;\\n\\tmargin-bottom: 5px;\\n\\tcolor: var(--color-text-maxcontrast);\\n\\n\\t.icon-info {\\n\\t\\tdisplay: inline-block;\\n\\t\\twidth: 32px;\\n\\t\\theight: 16px;\\n\\t\\tfloat: right;\\n\\t\\topacity: .7;\\n\\t}\\n\\n\\t.icon-attach {\\n\\t\\tbackground-size: 16px;\\n\\t\\tfloat: right;\\n\\t\\tmargin-top: -14px;\\n\\t\\topacity: .7;\\n\\t}\\n\\n\\t.icon-toggle, .icon-rename {\\n\\t\\tfloat: right;\\n\\t\\tmargin-top: -14px;\\n\\t}\\n}\\n\\n.description__text :deep(.ProseMirror) {\\n\\tpadding-bottom: var(--default-clickable-area);\\n}\\n\\n</style>\\n<style>\\n@import '~easymde/dist/easymde.min.css';\\n\\n.vue-easymde, .CodeMirror {\\n\\tborder: none;\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tbackground-color: var(--color-main-background);\\n\\tcolor: var(--color-main-text);\\n\\twidth: 100%;\\n}\\n\\n.CodeMirror-placeholder {\\n\\tcolor: var(--color-text-maxcontrast);\\n}\\n\\n.CodeMirror-cursor {\\n\\tborder-left: 1px solid var(--color-main-text);\\n}\\n\\n.CodeMirror-selected,\\n.CodeMirror-line::selection, .CodeMirror-line>span::selection, .CodeMirror-line>span>span::selection {\\n\\tbackground: var(--color-primary-element) !important;\\n\\tcolor: var(--color-primary-element-text) !important;\\n}\\n\\n.editor-preview,\\n.editor-statusbar {\\n\\tdisplay: none;\\n}\\n\\n#app-sidebar .app-sidebar-header__desc h4 {\\n\\tfont-size: 12px !important;\\n}\\n\\n.vue-easymde .cm-s-easymde .cm-link {\\n\\tcolor: var(--color-main-text);\\n}\\n\\n.vue-easymde .cm-s-easymde .cm-string.cm-url,\\n.vue-easymde .cm-s-easymde .cm-formatting.cm-link,\\n.vue-easymde .cm-s-easymde .cm-formatting.cm-url,\\n.vue-easymde .cm-s-easymde .cm-formatting.cm-image {\\n\\tcolor: var(--color-text-maxcontrast);\\n}\\n\\n.app-sidebar__tab .description__text .text-menubar {\\n\\ttop: -10px !important;\\n\\tz-index: 1;\\n}\\n\\n.modal__card .description__text .text-menubar {\\n\\ttop: 0;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentDragAndDrop.vue?vue&type=style&index=0&id=0d4a7a97&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentDragAndDrop.vue?vue&type=style&index=0&id=0d4a7a97&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignmentSelector.vue?vue&type=style&index=0&id=685e6890&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignmentSelector.vue?vue&type=style&index=0&id=685e6890&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentList.vue?vue&type=style&index=0&id=d2296a80&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentList.vue?vue&type=style&index=0&id=d2296a80&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardDetailEntry.vue?vue&type=style&index=0&id=ff963b7e&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardDetailEntry.vue?vue&type=style&index=0&id=ff963b7e&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Description.vue?vue&type=style&index=0&id=70a91332&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Description.vue?vue&type=style&index=0&id=70a91332&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDateSelector.vue?vue&type=style&index=0&id=493713fc&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDateSelector.vue?vue&type=style&index=0&id=493713fc&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagSelector.vue?vue&type=style&index=0&id=61060951&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagSelector.vue?vue&type=style&index=0&id=61060951&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateNewCardCustomPicker.vue?vue&type=style&index=0&id=46d71c0e&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateNewCardCustomPicker.vue?vue&type=style&index=0&id=46d71c0e&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Description.vue?vue&type=style&index=1&id=70a91332&prod&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Description.vue?vue&type=style&index=1&id=70a91332&prod&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AttachmentDragAndDrop.vue?vue&type=template&id=0d4a7a97&scoped=true\"\nimport script from \"./AttachmentDragAndDrop.vue?vue&type=script&lang=js\"\nexport * from \"./AttachmentDragAndDrop.vue?vue&type=script&lang=js\"\nimport style0 from \"./AttachmentDragAndDrop.vue?vue&type=style&index=0&id=0d4a7a97&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d4a7a97\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./AssignmentSelector.vue?vue&type=template&id=685e6890&scoped=true\"\nimport script from \"./AssignmentSelector.vue?vue&type=script&lang=js\"\nexport * from \"./AssignmentSelector.vue?vue&type=script&lang=js\"\nimport style0 from \"./AssignmentSelector.vue?vue&type=style&index=0&id=685e6890&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"685e6890\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./AttachmentList.vue?vue&type=template&id=d2296a80&scoped=true\"\nimport script from \"./AttachmentList.vue?vue&type=script&lang=js\"\nexport * from \"./AttachmentList.vue?vue&type=script&lang=js\"\nimport style0 from \"./AttachmentList.vue?vue&type=style&index=0&id=d2296a80&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d2296a80\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./CardDetailEntry.vue?vue&type=template&id=ff963b7e\"\nimport script from \"./CardDetailEntry.vue?vue&type=script&lang=js\"\nexport * from \"./CardDetailEntry.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardDetailEntry.vue?vue&type=style&index=0&id=ff963b7e&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./Description.vue?vue&type=template&id=70a91332&scoped=true\"\nimport script from \"./Description.vue?vue&type=script&lang=js\"\nexport * from \"./Description.vue?vue&type=script&lang=js\"\nimport style0 from \"./Description.vue?vue&type=style&index=0&id=70a91332&prod&lang=scss&scoped=true\"\nimport style1 from \"./Description.vue?vue&type=style&index=1&id=70a91332&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70a91332\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./DueDateSelector.vue?vue&type=template&id=493713fc&scoped=true\"\nimport script from \"./DueDateSelector.vue?vue&type=script&lang=js\"\nexport * from \"./DueDateSelector.vue?vue&type=script&lang=js\"\nimport style0 from \"./DueDateSelector.vue?vue&type=style&index=0&id=493713fc&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"493713fc\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./TagSelector.vue?vue&type=template&id=61060951&scoped=true\"\nimport script from \"./TagSelector.vue?vue&type=script&lang=js\"\nexport * from \"./TagSelector.vue?vue&type=script&lang=js\"\nimport style0 from \"./TagSelector.vue?vue&type=style&index=0&id=61060951&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61060951\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./DeckIcon.vue?vue&type=template&id=0028e97e\"\nimport script from \"./DeckIcon.vue?vue&type=script&lang=js\"\nexport * from \"./DeckIcon.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./CreateNewCardCustomPicker.vue?vue&type=template&id=46d71c0e&scoped=true\"\nimport script from \"./CreateNewCardCustomPicker.vue?vue&type=script&lang=js\"\nexport * from \"./CreateNewCardCustomPicker.vue?vue&type=script&lang=js\"\nimport style0 from \"./CreateNewCardCustomPicker.vue?vue&type=style&index=0&id=46d71c0e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46d71c0e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentDragAndDrop.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentDragAndDrop.vue?vue&type=script&lang=js\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignmentSelector.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignmentSelector.vue?vue&type=script&lang=js\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentList.vue?vue&type=script&lang=js\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardDetailEntry.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardDetailEntry.vue?vue&type=script&lang=js\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Description.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Description.vue?vue&type=script&lang=js\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDateSelector.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDateSelector.vue?vue&type=script&lang=js\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagSelector.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagSelector.vue?vue&type=script&lang=js\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeckIcon.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeckIcon.vue?vue&type=script&lang=js\"","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateNewCardCustomPicker.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateNewCardCustomPicker.vue?vue&type=script&lang=js\""],"names":["maxUploadSizeState","loadState","name","components","NcModal","mixins","attachmentUpload","props","cardId","type","Number","default","data","modalShow","file","overwriteAttachment","isDraggingOver","maxUploadSize","computed","isReadOnly","$store","getters","canEdit","dropHintText","t","methods","handleDropFiles","event","dataTransfer","dropEffect","files","onLocalAttachmentSelected","value","defineComponent","AccountMultiple","NcSelect","NcAvatar","card","Object","Boolean","assignables","Array","assignedUsers","formatedAssignables","map","item","assignable","user","primaryKey","displayName","displayname","icon","isNoUser","multiselectKey","uid","watch","initialize","mounted","length","participant","onSelect","options","addition","filter","find","$emit","onRemove","removed","picker","getFilePickerBuilder","setMultiSelect","setType","allowDirectories","build","NcActions","NcActionButton","NcActionLink","NcButton","AttachmentDragAndDrop","relativeDate","required","selectable","removable","attachments","attachmentsByCard","attachment","deletedAt","sort","a","b","id","mimetypeForAttachment","extendedData","hasPreview","attachmentPreview","OC","MimeType","getIconUrl","mimetype","fileid","generateUrl","attachmentUrl","internalLink","downloadLink","generateRemoteUrl","getCurrentUser","path","formattedFileSize","filesize","formatFileSize","mapState","currentBoard","state","attachmentBasename","info","filename","replace","attachmentExtension","extension","split","pop","immediate","handler","fetchAttachments","mapActions","handleUploadFile","target","uploadNewFile","$refs","filesAttachment","click","shareFromFiles","pick","then","console","debug","startsWith","Error","axios","post","generateOcsUrl","shareType","shareWith","unshareAttachment","dispatch","clickAddNewAttachmment","localAttachments","showViewer","window","OCA","Viewer","availableHandlers","mimes","flat","includes","open","location","label","String","markdownIt","MarkdownIt","linkify","use","MarkdownItTaskCheckbox","disabled","idPrefix","ulClass","MarkdownItLinkAttributes","attrs","rel","VueEasymde","AttachmentList","PaperclipIcon","showAttachments","textAppAvailable","Text","createEditor","editor","keyExitState","description","descriptionEditing","mdeConfig","autoDownloadFontAwesome","spellChecker","autofocus","autosave","enabled","uniqueId","toolbar","placeholder","previewImagesInEditor","descriptionSaveTimeout","descriptionSaving","descriptionLastEdit","hasCardSaveError","renderedDescription","render","hasDescription","trim","setupEditor","beforeDestroy","destroyEditor","el","content","readOnly","onLoaded","onUpdate","_ref","markdown","updateDescription","onFileInsert","showAttachmentModal","saveDescription","destroy","addKeyListeners","markdownEditor","easymde","codemirror","on","key","off","undefined","hideEditor","showEditor","addAttachment","asImage","stripRTLO","text","replaceAll","fileName","insertAtCursor","attachmentString","newContent","clickedPreview","e","getAttribute","clickedIndex","document","querySelector","querySelectorAll","findIndex","li","reg","nth","updatedDescription","match","i","original","result","commit","showWarning","timeout","error","code","setSaveTimeout","Date","now","clearTimeout","setTimeout","ArchiveIcon","ClearIcon","CardDetailEntry","Plus","Calendar","CalendarCheck","CheckIcon","NcActionSeparator","NcDateTimePickerNative","readableDate","lang","days","getDayNamesMin","months","getMonthNamesShort","formatLocale","firstDayOfWeek","getFirstDay","date","format","stringify","parse","duedate","get","set","val","reminderOptions","currentDateTime","moment","laterTodayTime","hour","tomorrowTime","add","thisWeekendTime","day","nextWeekTime","timestamp","getTimestamp","timeLocale","ariaLabel","option","initDate","setDate","getDate","setHours","setMinutes","setMilliseconds","removeDue","selectShortcut","shortcut","momentObject","minute","second","millisecond","toDate","changeCardDoneStatus","done","archiveUnarchiveCard","archived","TagMultiple","Color","labels","labelsSorted","title","l","assignedLabels","addedLabel","removedLabel","onNewTag","fillColor","size","cardApi","CardApi","apiClient","BoardApi","DeckIcon","FormatColumnsIcon","CardPlusOutline","Description","DueDateSelector","TagSelector","AssignmentSelector","NcEmptyContent","NcLoadingIcon","showCreatedNotice","action","boards","stacksFromBoard","selectedUsers","loading","selectedStack","selectedBoard","selectedLabels","boardUsers","boardAcl","creating","created","newCard","isBoardAndStackChoosen","acl","group","circle","beforeMount","$set","fetchBoards","$nextTick","cardTitleInput","focus","response","board","permissions","PERMISSION_EDIT","preSelectBoard","fetchBoardDetails","url","stacks","users","preSelectStack","err","close","createCard","addCard","boardId","stackId","protocol","host","showError","onSelectLabel","push","onRemoveLabel","onSelectUser","onRemoveUser","removedUser","addLabelToBoardAndCard","createLabel","color","randomColor","updateCardDue","newValue","descriptionChanged","openNewCard","selectedBoardId","localStorage","getItem","preSelectedBoard","onSelectBoard","selectedStackId","preSelectedStack","setItem","onSelectStack","stack","_vm","this","_c","_self","staticClass","$event","preventDefault","apply","arguments","_t","_v","directives","rawName","expression","class","_s","overrideAttachment","_e","staticRenderFns","_setupProxy","scopedSlots","_u","fn","scope","model","callback","$$v","_l","ref","staticStyle","uploadQueue","style","domProps","progress","createdAt","attachmentCreator","proxy","slot","formatReadableDate","isTag","backgroundColor","textColor","_b","$attrs","composing","message","errorDialog","showAxiosError","queue","PQueue","concurrency","bodyFormData","FormData","append","async","formData","onUploadProgress","percentCompleted","Math","round","loaded","total","status","$delete","hex","chroma","colorIsValid","test","floor","random","toString","padStart","diff","$root","time","fromNow","updateBoard","put","Promise","resolve","reject","catch","createBoard","boardData","deleteBoard","delete","unDeleteBoard","loadBoards","loadById","cloneBoard","withCards","withAssignments","withLabels","withDueDate","moveCardsToLeftStack","restoreArchivedCards","exportBoard","fields","lastModified","row","keys","forEach","field","slice","CSV","cards","toLocaleDateString","charCode","byteArray","charCodeAt","blob","Blob","Uint8Array","blobUrl","URL","createObjectURL","createElement","href","download","remove","deleteLabel","updateLabel","labelData","addAcl","updateAcl","deleteAcl","cloneCard","targetStackId","deleteCard","deletedCards","updateCard","reorderCard","assignUser","userId","removeUser","archiveCard","unArchiveCard","markCardAsDone","markCardAsUndone","assignLabelToCard","labelId","removeLabelFromCard","___CSS_LOADER_EXPORT___","module","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals"],"sourceRoot":""}